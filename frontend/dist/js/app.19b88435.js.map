{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?904e","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/views/Admin.vue?e418","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue","webpack:///./src/views/Queues.vue?133e","webpack:///src/views/Queues.vue","webpack:///./src/views/Queues.vue?3c93","webpack:///./src/views/Queues.vue","webpack:///./src/views/Queue.vue?71e5","webpack:///src/views/Queue.vue","webpack:///./src/views/Queue.vue?d4ea","webpack:///./src/views/Queue.vue","webpack:///./src/views/QueueEdit.vue?8727","webpack:///src/views/QueueEdit.vue","webpack:///./src/views/QueueEdit.vue?4962","webpack:///./src/views/QueueEdit.vue","webpack:///./src/views/QueueHistory.vue?0a61","webpack:///src/views/QueueHistory.vue","webpack:///./src/views/QueueHistory.vue?c804","webpack:///./src/views/QueueHistory.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","$store","state","profile","teacher","_e","on","$event","$root","redirect_login","set_location","socket_connected","staticRenderFns","methods","socket","async","commit","me","location","assisting_in","is_kthlan","connect","handleSocket","component","staticStyle","preventDefault","add_teacher","model","callback","$$v","user_name","expression","_l","_s","remove_teacher","add_queue","queue_name","add_room","room_name","room","remove_room","error","response","alert","status","new_queue","$router","teachers","rooms","queue","nativeOn","open_queue","open","queuing_count","queues","x","y","broadcast_active","broadcast_message","notify_active","notification_message","prompt_broadcast","broadcast","message","promt_notify_faculty","broadcast_faculty","promt_clear_queue","queuing","purge","dialog_queuing","findIndex","unix_to_datetime","entered_at","class","badLocation","bad_location","nice_location","comment","handlers","join","dequeue","queuing_bad_location","undefined","find","queuing_handle","dialog_booking","timestamp","students","booking_set_location","booking_location","booking_remove","booking_bad_location","booking_handle","description","bookings","booking","studentIsHandled","myQueueRow","student","view_entire_queue","user","index","action","toggle_open","in_queue","includes","room_id","force_kthlan","blocked_by_whitelist","force_comment","p_action","color","force_action","update_own_details","enqueue","colors","existing_rooms","is_assistant_in_queue","promt_delete_queue","delete_queue","update_settings","name_new","$set","update_force","add_task","task_type","task_deadline","tasks","task","type","deadline","remove_task","change_rooms","change_room","clicked_rooms","add_assistant","user_name_assistant","add_assistants_from_course","course_code_assistant","assistants","assistant","remove_assistant","add_student","user_name_student","remove_student","add_action","action_name","action_color","actions","remove_action","k","changes","update_clicked_rooms","fetch_history","date_start","date_end","events","event","nice_description","old","new","queuings","timestamp_enter","timestamp_leave","handler","filtered","Vue","use","VueRouter","routes","path","redirect","AdminView","QueueListView","QueueSingleView","QueueEditView","QueueHistoryView","router","base","process","Vuex","Store","io","mutations","setProfile","store","setLocation","setAssistingIn","isKthlan","setSocketConnected","VueMaterial","config","productionTip","moment","require","axios","defaults","withCredentials","baseURL","document","encodeURIComponent","pathname","h","App","$mount"],"mappings":"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ACA,iBACA,wBACA,qBACA,aACA,sBACA,oBACA,sBAGA,SACA,UACA,iDACA,cACA,4CACA,qBACA,uBACA,mBACA,yBAEA,SACA,gBACA,kBACA,sBAMA,qBACA,+EACA,eACA,4CACA,qBACA,uBACA,mBACA,yBAEA,SACA,gBACA,kBACA,sBAMA,WACA,+DACA,kBACA,SACA,eACA,8CACA,kBACA,kBAGA,kBACA,sBAMA,kBACA,wDACA,mEAEA,+DACA,eACA,4CACA,wCAIA,sBACA,+DACA,eACA,4CACA,0CAIA,4BACA,uDAEA,8CACA,iDACA,SACA,+BACA,CAEA,gCAEA,gEACA,eACA,4CACA,mDAKA,UACA,wCACA,oBACA,qBACA,yBAGA,mBAGA,YACA,2CACA,oBACA,uBAGA,mBAGA,oBACA,gDACA,oBACA,uBAGA,mBAGA,wBACA,+DACA,eACA,4CACA,uDAIA,oBAEA,oBACA,WAEA,mBACA,qBAEA,8BAEA,6FACA,SAGA,8GAMA,OAJA,oCACA,wBAGA,UAGA,iBACA,oCAGA,QACA,+CACA,mBAIA,cACA,oCACA,eACA,4CACA,gDAIA,cACA,yEACA,aAEA,oCACA,+CAGA,wBAIA,gBACA,gCACA,yBACA,EACA,wBACA,EAEA,WACA,EACA,UACA,EAEA,IAMA,uBACA,wEACA,eACA,4CACA,wDACA,SACA,OACA,6BAKA,uBACA,0EACA,eACA,4CACA,yEAIA,iBACA,0EACA,eACA,4CACA,0HAIA,iBACA,2FAIA,8BACA,4BAIA,oCACA,2BAIA,+BACA,uFAEA,yDAKA,8CACA,2BAIA,kCACA,wCACA,sCACA,kBAGA,QAKA,gCACA,0BAIA,uEACA,oCACA,qBAEA,oEACA,8BACA,4CAIA,gCACA,4DAEA,yDACA,2BAKA,2BACA,0BAIA,yBACA,2GAIA,wBACA,0BAIA,sBACA,0IAIA,gBACA,oEACA,wFACA,wHACA,4FACA,4FACA,kFACA,6EAGA,UACA,wDACA,4EACA,4GACA,gFACA,gFACA,sEACA,gEAEA,oBAGA,UACA,WAEA,oCACA,SAGA,kCACA,+CACA,SAIA,UAGA,wBAEA,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","file":"js/app.19b88435.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-app',[_c('md-app-toolbar',{staticClass:\"md-primary\"},[_c('md-button',{attrs:{\"to\":\"/queues\"}},[_c('md-icon',[_vm._v(\"list\")]),_vm._v(\" Alla köer \")],1),(_vm.$store.state.profile !== null && _vm.$store.state.profile.teacher)?_c('md-button',{attrs:{\"to\":\"/admin\"}},[_c('md-icon',[_vm._v(\"build\")]),_vm._v(\" Administration \")],1):_vm._e(),_c('div',{staticClass:\"md-toolbar-section-end\"},[(_vm.$store.state.profile === null)?_c('md-button',{on:{\"click\":function($event){return _vm.$root.redirect_login()}}},[_c('md-icon',[_vm._v(\"face\")]),_vm._v(\" Logga in \")],1):_vm._e(),(_vm.$store.state.profile !== null)?_c('md-button',{on:{\"click\":function($event){return _vm.set_location('/logout')}}},[_c('md-icon',[_vm._v(\"exit_to_app\")]),_vm._v(\" Logga ut \")],1):_vm._e()],1)],1),_c('md-app-content',[_c('router-view')],1),_c('md-snackbar',{attrs:{\"md-position\":\"center\",\"md-active\":!_vm.$store.state.socket_connected,\"md-persistent\":\"\"}},[_c('span',[_vm._v(\"Enqueue är inte ansluten till nätverket. Försöker återansluta...\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <md-app>\n    <md-app-toolbar class=\"md-primary\">\n      <md-button to=\"/queues\">\n        <md-icon>list</md-icon> Alla köer\n      </md-button>\n\n      <md-button\n        to=\"/admin\"\n        v-if=\"$store.state.profile !== null && $store.state.profile.teacher\"\n      >\n        <md-icon>build</md-icon> Administration\n      </md-button>\n      \n      <div class=\"md-toolbar-section-end\">\n        <md-button\n          @click=\"$root.redirect_login()\"\n          v-if=\"$store.state.profile === null\"\n        >\n          <md-icon>face</md-icon> Logga in\n        </md-button>\n\n        <md-button\n          @click=\"set_location('/logout')\"\n          v-if=\"$store.state.profile !== null\"\n        >\n          <md-icon>exit_to_app</md-icon> Logga ut\n        </md-button>\n      </div>\n    </md-app-toolbar>\n    \n    <md-app-content>\n      <router-view />\n    </md-app-content>\n\n    <md-snackbar\n      md-position=\"center\"\n      :md-active=\"!$store.state.socket_connected\"\n      md-persistent\n    >\n      <span>Enqueue är inte ansluten till nätverket. Försöker återansluta...</span>\n    </md-snackbar>\n  </md-app>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  methods: {\n    handleSocket() {\n      this.$store.state.socket.on('connect', async () => {\n        this.$store.commit('setSocketConnected', true)\n\n        const me = (await axios.get('/me')).data\n\n        this.$store.commit('setProfile', me.profile)\n        this.$store.commit('setLocation', me.location)\n        this.$store.commit('setAssistingIn', me.assisting_in)\n        this.$store.commit('isKthlan', me.is_kthlan)\n      })\n\n      this.$store.state.socket.on('disconnect', () => {\n        this.$store.commit('setSocketConnected', false)\n      })\n\n      this.$store.state.socket.on('profile', profile => {\n        this.$store.commit('setProfile', profile)\n      })\n\n      this.$store.state.socket.connect()\n    },\n  },\n\n  created() {\n    this.handleSocket()\n  },\n}\n</script>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=266e891f&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Administration\")]),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Lärare \")])]),_c('md-card-content',[_c('form',{staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_teacher($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"user_name\"}},[_vm._v(\"KTH-användarnamn\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"user_name\"},model:{value:(_vm.user_name),callback:function ($$v) {_vm.user_name=$$v},expression:\"user_name\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Lägg till lärare \")])],1)],1),_c('md-table',[_c('md-table-row',[_c('md-table-head',[_vm._v(\"Användarnamn\")]),_c('md-table-head',[_vm._v(\"Namn\")]),_c('md-table-head',[_vm._v(\"Alternativ\")])],1),_vm._l((_vm.teachers),function(teacher){return _c('md-table-row',{key:teacher.id},[_c('md-table-cell',[_vm._v(_vm._s(teacher.user_name))]),_c('md-table-cell',[_vm._v(_vm._s(teacher.name))]),_c('md-table-cell',[(teacher.id !== _vm.$store.state.profile.id)?_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.remove_teacher(teacher)}}},[_vm._v(\" Radera \")]):_vm._e()],1)],1)})],2)],1)],1),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Skapa ny kö \")])]),_c('md-card-content',[_c('form',{staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_queue($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"queue_name\"}},[_vm._v(\"Namn\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"queue_name\",\"name\":\"queue_name\"},model:{value:(_vm.queue_name),callback:function ($$v) {_vm.queue_name=$$v},expression:\"queue_name\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Lägg till kö \")])],1)],1)])],1),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Terminalsalar \")])]),_c('md-card-content',[_c('form',{staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_room($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"room_name\"}},[_vm._v(\"Namn\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"room_name\"},model:{value:(_vm.room_name),callback:function ($$v) {_vm.room_name=$$v},expression:\"room_name\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Lägg till sal \")])],1)],1),_c('md-table',[_c('md-table-row',[_c('md-table-head',[_vm._v(\"Namn\")]),_c('md-table-head',[_vm._v(\"Alternativ\")])],1),_vm._l((_vm.rooms),function(room){return _c('md-table-row',{key:room.id},[_c('md-table-cell',[_vm._v(_vm._s(room.name))]),_c('md-table-cell',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.remove_room(room)}}},[_vm._v(\" Radera \")])],1)],1)})],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>Administration</h1>\n\t\t\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Lärare\n        </h2>\n      </md-card-header>\n\t\t\t\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"add_teacher\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"user_name\">KTH-användarnamn</label>\n            <md-input\n              type=\"text\"\n              id=\"user_name\"\n              v-model=\"user_name\"\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n            >\n              Lägg till lärare\n            </md-button>\n          </md-card-actions>\n        </form>\n\t\t\t\t\n        <md-table>\n          <md-table-row>\n            <md-table-head>Användarnamn</md-table-head>\n            <md-table-head>Namn</md-table-head>\n            <md-table-head>Alternativ</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"teacher in teachers\"\n            :key=\"teacher.id\"\n          >\n            <md-table-cell>{{ teacher.user_name }}</md-table-cell>\n            <md-table-cell>{{ teacher.name }}</md-table-cell>\n            <md-table-cell>\n              <md-button\n                v-if=\"teacher.id !== $store.state.profile.id\"\n                @click=\"remove_teacher(teacher)\"\n                class=\"md-accent\"\n              >\n                Radera\n              </md-button>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Skapa ny kö\n        </h2>\n      </md-card-header>\n\t\t\t\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"add_queue\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"queue_name\">Namn</label>\n            <md-input\n              type=\"text\"\n              id=\"queue_name\"\n              name=\"queue_name\"\n              v-model=\"queue_name\"\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n            >\n              Lägg till kö\n            </md-button>\n          </md-card-actions>\n        </form>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Terminalsalar\n        </h2>\n      </md-card-header>\n\t\t\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"add_room\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"room_name\">Namn</label>\n            <md-input\n              type=\"text\"\n              id=\"room_name\"\n              v-model=\"room_name\"\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n            >\n              Lägg till sal\n            </md-button>\n          </md-card-actions>\n        </form>\n\t\t\t\t\n        <md-table>\n          <md-table-row>\n            <md-table-head>Namn</md-table-head>\n            <md-table-head>Alternativ</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"room in rooms\"\n            :key=\"room.id\"\n          >\n            <md-table-cell>{{ room.name }}</md-table-cell>\n            <md-table-cell>\n              <md-button\n                @click=\"remove_room(room)\"\n                class=\"md-accent\"\n              >\n                Radera\n              </md-button>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n      </md-card-content>\n    </md-card>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tname: 'Admin',\n\n\tdata: () => ({\n\t\tuser_name: null,\n\t\tqueue_name: null,\n\t\troom_name: null,\n\t\tteachers: [],\n\t\trooms: [],\n\t}),\n\n\tmethods: {\n\t\tasync add_teacher() {\n      try {\n        await axios.post('/teachers', {\n          user_name: this.user_name,\n        })\n\n        this.user_name = null\n      } catch (error) {\n        switch (error.response ? error.response.data.error : null) {\n          case 'UNKNOWN_USER':\n            alert('Användaren hittades inte.')\n            break\n          \n          case 'ALREADY_TEACHER':\n            alert('Användaren har redan lärarbehörighet.')\n            break\n          \n          default:\n            alert(error || 'Ett okänt fel inträffade.')\n        }\n      }\n\t\t},\n\n\t\tasync remove_teacher(teacher) {\n      try {\n        await axios.delete('/teachers/' + teacher.id)\n      } catch (error) {\n        if (error.response) {\n          if (error.response.status === 404) {\n            alert('Läraren hittades inte.')\n          } else if (error.response.status === 401) {\n            alert('Åtkomst nekad')\n          } else {\n            alert('Ett okänt fel inträffade.')\n          }\n        } else {\n          alert('Ett okänt fel inträffade.')\n        }\n      }\n\t\t},\n\n\t\tasync add_queue() {\n      try {\n        const new_queue = (await axios.post('/queues', {\n          name: this.queue_name,\n        })).data\n\n        this.$router.push('/queues/' + new_queue.name)\n      } catch (error) {\n        if (error.response) {\n          if (error.response.status === 400) {\n            alert('Namnet är ogiltigt.')\n          } else {\n            alert('Ett okänt fel inträffade.')\n          }\n        } else {\n          alert('Ett okänt fel inträffade.')\n        }\n      }\n\t\t},\n\n\t\tadd_room() {\n\n\t\t},\n\n\t\tremove_room(/* room */) {\n\t\t\t\n\t\t},\n\t},\n\n\tasync created() {\n    this.teachers = (await axios.get('/teachers')).data\n    this.rooms = (await axios.get('/rooms')).data\n\n\t\tthis.$store.state.socket.on('teachers', teachers => {\n\t\t\tthis.teachers = teachers\n\t\t})\n\t},\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=25d6fcfe&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Alla köer \")])]),_c('md-card-content',[_c('md-table',_vm._l((_vm.queues),function(queue){return _c('md-table-row',{key:queue.id,staticStyle:{\"cursor\":\"pointer\"},nativeOn:{\"click\":function($event){return _vm.open_queue(queue)}}},[_c('md-table-cell',[(!queue.open)?_c('md-icon',{staticClass:\"md-accent\"},[_vm._v(\" lock \")]):_c('md-icon',[_vm._v(\" lock_open \")]),_vm._v(\" \"+_vm._s(queue.name)+\" \")],1),_c('md-table-cell',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(queue.queuing_count)+\" \")])],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Alla köer\n        </h2>\n      </md-card-header>\n\t\t\t\n      <md-card-content>\n        <md-table>\n          <md-table-row\n            style=\"cursor: pointer;\"\n            @click.native=\"open_queue(queue)\"\n            v-for=\"queue in queues\"\n            :key=\"queue.id\"\n          >\n            <md-table-cell>\n              <md-icon\n                v-if=\"!queue.open\"\n                class=\"md-accent\"\n              >\n                lock\n              </md-icon>\n              <md-icon v-else>\n                lock_open\n              </md-icon>\n              {{ queue.name }}\n            </md-table-cell>\n            <md-table-cell class=\"text-right\">\n              {{ queue.queuing_count }}\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n      </md-card-content>\n    </md-card>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tname: 'Queues',\n\n\tdata: () => ({\n\t\tqueues: [],\n\t}),\n\n\tmethods: {\n\t\topen_queue(queue) {\n\t\t\tthis.$router.push('/queues/' + queue.name)\n\t\t}\n\t},\n\n\tasync created() {\n    this.queues = (await axios.get('/queues')).data.sort((x, y) => {\n      if (x.open && !y.open) {\n        return -1\n      } else if (!x.open && y.open) {\n        return 1\n      } else if (x.name < y.name) {\n        return -1\n      } else if (x.name > y.name) {\n        return 1\n      } else {\n        return 0\n      }\n    })\n\t},\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queues.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queues.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Queues.vue?vue&type=template&id=587efa6f&\"\nimport script from \"./Queues.vue?vue&type=script&lang=js&\"\nexport * from \"./Queues.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.queue)?_c('div',[_c('md-dialog-alert',{staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"md-title\":\"Meddelande\",\"md-active\":_vm.broadcast_active,\"md-content\":_vm.broadcast_message,\"md-confirm-text\":\"OK!\"},on:{\"update:mdActive\":function($event){_vm.broadcast_active=$event},\"update:md-active\":function($event){_vm.broadcast_active=$event},\"md-closed\":function($event){_vm.broadcast_active = false}}}),_c('md-dialog-alert',{staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"md-title\":\"Meddelande\",\"md-active\":_vm.notify_active,\"md-content\":_vm.notification_message,\"md-confirm-text\":\"OK!\"},on:{\"update:mdActive\":function($event){_vm.notify_active=$event},\"update:md-active\":function($event){_vm.notify_active=$event},\"md-closed\":function($event){_vm.broadcast_active = false}}}),_c('md-dialog-prompt',{attrs:{\"md-active\":_vm.prompt_broadcast,\"md-title\":\"Meddela samtliga\",\"md-input-placeholder\":\"Skriv meddelande...\",\"md-confirm-text\":\"Skicka\",\"md-cancel-text\":\"Avsluta\"},on:{\"update:mdActive\":function($event){_vm.prompt_broadcast=$event},\"update:md-active\":function($event){_vm.prompt_broadcast=$event},\"md-confirm\":_vm.broadcast,\"md-cancel\":function($event){_vm.prompt_broadcast = false}},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('md-dialog-prompt',{attrs:{\"md-active\":_vm.promt_notify_faculty,\"md-title\":\"Meddela assistenter\",\"md-input-placeholder\":\"Skriv meddelande...\",\"md-confirm-text\":\"Skicka\",\"md-cancel-text\":\"Avsluta\"},on:{\"update:mdActive\":function($event){_vm.promt_notify_faculty=$event},\"update:md-active\":function($event){_vm.promt_notify_faculty=$event},\"md-confirm\":_vm.broadcast_faculty,\"md-cancel\":function($event){_vm.promt_notify_faculty = false}},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('md-dialog-confirm',{attrs:{\"md-active\":_vm.promt_clear_queue && _vm.queue.queuing.length !== 0,\"md-title\":\"Vill du rensa kön?\",\"md-confirm-text\":\"Ja, rensa kön\",\"md-cancel-text\":\"Nej, återgå\"},on:{\"md-confirm\":function($event){return _vm.purge()},\"md-cancel\":function($event){_vm.promt_clear_queue = false}}}),(_vm.dialog_queuing !== null)?_c('md-dialog',{attrs:{\"md-active\":true}},[_c('md-dialog-content',[_c('h2',[_vm._v(\" \"+_vm._s(_vm.queue.queuing.findIndex(function (x) { return x.profile.id === _vm.dialog_queuing.profile.id; } ) + 1)+\". \"),(_vm.dialog_queuing.profile.user_name !== null)?_c('span',[_vm._v(_vm._s(_vm.dialog_queuing.profile.name)+\" (\"+_vm._s(_vm.dialog_queuing.profile.user_name)+\")\")]):_vm._e()]),_c('strong',[_vm._v(\"Gick in i kön:\")]),_vm._v(\" \"+_vm._s(_vm.unix_to_datetime(_vm.dialog_queuing.entered_at))),_c('br'),_c('strong',[_vm._v(\"Plats:\")]),_vm._v(\" \"),_c('span',{class:[{ badLocation: _vm.dialog_queuing.bad_location }]},[_vm._v(_vm._s(_vm.nice_location(_vm.dialog_queuing.location)))]),_c('br'),(_vm.dialog_queuing.comment !== null)?[_c('strong',[_vm._v(\"Kommentar:\")]),_vm._v(\" \"+_vm._s(_vm.dialog_queuing.comment)),_c('br')]:_vm._e(),(_vm.dialog_queuing.handlers.length > 0)?[_c('strong',[_vm._v(\"Assisteras av:\")]),_vm._v(\" \"+_vm._s(_vm.dialog_queuing.handlers.map(function (x) { return x.name + ' (' + x.user_name + ')'; }).join(', '))+\" \")]:_vm._e()],2),_c('md-dialog-actions',[(_vm.is_assistant_in_queue)?_c('span',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.dequeue(_vm.dialog_queuing)}}},[_vm._v(\"Ta bort\")]),_c('md-button',{class:[{ 'md-accent': !_vm.dialog_queuing.bad_location }],on:{\"click\":function($event){return _vm.queuing_bad_location(_vm.dialog_queuing)}}},[_vm._v(\"Placering\")]),(_vm.dialog_queuing.handlers.find(function (x) { return x.id === _vm.$store.state.profile.id; }) === undefined)?_c('md-button',{staticClass:\"md-primary\",on:{\"click\":function($event){return _vm.queuing_handle(_vm.dialog_queuing.profile)}}},[_vm._v(\"Assistera\")]):_c('md-button',{on:{\"click\":function($event){return _vm.queuing_handle(_vm.dialog_queuing.profile)}}},[_vm._v(\"Sluta assistera\")])],1):_vm._e(),_c('md-button',{staticClass:\"md-primary\",on:{\"click\":function($event){_vm.dialog_queuing = null}}},[_vm._v(\" Stäng \")])],1)],1):_vm._e(),(_vm.dialog_booking !== null)?_c('md-dialog',{attrs:{\"md-active\":true}},[_c('md-dialog-content',[_c('h2',[_vm._v(\"Tidslucka \"+_vm._s(_vm.unix_to_datetime(_vm.dialog_booking.timestamp)))]),(_vm.$store.state.profile !== null)?[_c('strong',[_vm._v(\"Namn:\")]),_vm._v(\" \"+_vm._s(_vm.dialog_booking.students.map(function (x) { return x.name + ' (' + x.user_name + ')'; }).join(', '))),_c('br')]:_vm._e(),_c('strong',[_vm._v(\"Plats:\")]),_vm._v(\" \"),(_vm.dialog_booking.location === null)?_c('span',{staticClass:\"noLocation\"},[_vm._v(\"ingen plats angiven\")]):_c('span',{class:[{ badLocation: _vm.dialog_booking.bad_location }]},[_vm._v(_vm._s(_vm.dialog_booking.location))]),_c('br'),(_vm.dialog_booking.comment !== null)?[_c('strong',[_vm._v(\"Kommentar:\")]),_vm._v(\" \"+_vm._s(_vm.dialog_booking.comment)),_c('br')]:_vm._e(),(_vm.dialog_booking.handlers.length > 0)?[_c('strong',[_vm._v(\"Assisteras av:\")]),_vm._v(\" \"+_vm._s(_vm.dialog_booking.handlers.map(function (x) { return x.name + ' (' + x.user_name + ')'; }).join(', '))+\" \")]:_vm._e()],2),_c('md-dialog-content',[(_vm.$store.state.profile !== null && _vm.dialog_booking.students.findIndex(function (x) { return x.id === _vm.$store.state.profile.id; }) !== -1)?_c('form',{staticStyle:{\"display\":\"inline-flex\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.booking_set_location($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"booking_location\"}},[_vm._v(\"Ange plats\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"booking_location\"},model:{value:(_vm.booking_location),callback:function ($$v) {_vm.booking_location=$$v},expression:\"booking_location\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Spara \")])],1)],1):_vm._e()]),_c('md-dialog-actions',[(_vm.is_assistant_in_queue)?_c('span',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.booking_remove(_vm.dialog_booking)}}},[_vm._v(\"Ta bort\")]),(_vm.dialog_booking.location !== null)?_c('md-button',{class:[{ 'md-accent': !_vm.dialog_booking.bad_location }],on:{\"click\":_vm.booking_bad_location}},[_vm._v(\"Placering\")]):_vm._e(),(_vm.dialog_booking.handlers.find(function (x) { return x.id === _vm.$store.state.profile.id; }) === undefined)?_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.booking_handle}},[_vm._v(\"Assistera\")]):_c('md-button',{on:{\"click\":_vm.booking_handle}},[_vm._v(\"Sluta assistera\")])],1):_vm._e(),_c('md-button',{staticClass:\"md-primary\",on:{\"click\":function($event){_vm.dialog_booking = null}}},[_vm._v(\" Stäng \")])],1)],1):_vm._e(),_c('div',{staticClass:\"md-layout md-gutter md-alignment-top\"},[_c('div',{staticClass:\"md-layout-item md-xlarge-size-70 md-large-size-70 md-medium-size-70 md-small-size-70 md-xsmall-size-100\"},[_c('h1',[(!_vm.queue.open)?_c('md-icon',{staticClass:\"md-size-2x md-accent\"},[_vm._v(\" lock \")]):_vm._e(),(_vm.queue.open)?_c('md-icon',{staticClass:\"md-size-2x\"},[_vm._v(\" people \")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.queue.name)+\" \")],1),_c('p',{staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\" \"+_vm._s(_vm.queue.description)+\" \")]),(_vm.queue.bookings.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',{staticStyle:{\"width\":\"30%\"}},[_vm._v(\" Tidslucka \")]),(_vm.$store.state.profile !== null)?_c('md-table-head',{staticStyle:{\"width\":\"30%\"}},[_vm._v(\" Namn \")]):_vm._e(),(_vm.$store.state.profile !== null)?_c('md-table-head',{staticStyle:{\"width\":\"40%\"}},[_vm._v(\" Kommentar \")]):_c('md-table-head',{staticStyle:{\"width\":\"70%\"}},[_vm._v(\" Kommentar \")])],1),_vm._l((_vm.queue.bookings),function(booking){return _c('md-table-row',{key:booking.id,class:[{ studentIsHandled: booking.handlers.length > 0 }, { myQueueRow: _vm.$store.state.profile !== null && booking.students.findIndex(function (x) { return x.id === _vm.$store.state.profile.id; }) !== -1 }],staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.dialog_booking = booking}}},[_c('md-table-cell',[_vm._v(\" \"+_vm._s(_vm.unix_to_datetime(booking.timestamp))),_c('br'),(booking.location !== null)?_c('div',{class:[{ badLocation: booking.bad_location }]},[_vm._v(\" \"+_vm._s(booking.location)+\" \")]):_c('div',{staticClass:\"noLocation\"},[_vm._v(\" ingen plats angiven \")])]),(_vm.$store.state.profile !== null)?_c('md-table-cell',_vm._l((booking.students),function(student){return _c('div',{key:student.id},[_vm._v(\" \"+_vm._s(student.name)+\" \")])}),0):_vm._e(),_c('md-table-cell',[(booking.comment !== null)?_c('span',[_vm._v(_vm._s(booking.comment))]):_vm._e()])],1)})],2):_vm._e(),(_vm.queue.queuing.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',{staticStyle:{\"width\":\"30%\"}},[_vm._v(\" Namn \")]),_c('md-table-head',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\" Tid \")]),_c('md-table-head',{staticStyle:{\"width\":\"50%\"}},[_vm._v(\" Kommentar \")])],1),(_vm.view_entire_queue === true)?_vm._l((_vm.queue.queuing),function(user,index){return _c('md-table-row',{key:user.profile.id,class:[{ studentIsHandled: user.handlers.length > 0 }, { myQueueRow: _vm.$store.state.profile !== null && user.profile.id === _vm.$store.state.profile.id }],staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.dialog_queuing = user}}},[_c('md-table-cell',[(user.action !== null)?_c('md-badge',{staticClass:\"md-primary md-square\",attrs:{\"md-content\":user.action.name}}):_vm._e(),(user.profile.name !== null)?_c('div',{staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(user.profile.name)+\" \")]):_vm._e(),_c('span',{class:[{ badLocation: user.bad_location }]},[_vm._v(_vm._s(_vm.nice_location(user.location))+\" \")])],1),_c('md-table-cell',[_vm._v(_vm._s(_vm.unix_to_datetime(user.entered_at ))+\" \")]),_c('md-table-cell',[(user.comment !== null)?_c('span',[_vm._v(_vm._s(user.comment))]):_vm._e()])],1)}):_vm._e()],2):_vm._e()],1),_c('div',{staticClass:\"md-layout-item md-xlarge-size-30 md-large-size-30 md-medium-size-30 md-small-size-30 md-xsmall-size-100\"},[(_vm.is_assistant_in_queue)?_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Alternativ \")])]),_c('md-card-content',[_c('md-list',[_c('md-list-item',{on:{\"click\":function($event){_vm.prompt_broadcast = true}}},[_c('md-icon',[_vm._v(\"chat_bubble_outline\")]),_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Meddela samtliga\")])],1),_c('md-list-item',{on:{\"click\":function($event){_vm.promt_notify_faculty = true}}},[_c('md-icon',[_vm._v(\"chat_bubble\")]),_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Meddela assistenter\")])],1),_c('md-list-item',{attrs:{\"disabled\":_vm.queue.queuing.length === 0},on:{\"click\":function($event){_vm.queue.queuing.length !== 0 && (_vm.promt_clear_queue = true)}}},[_c('md-icon',[_vm._v(\"clear_all\")]),_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Rensa kön\")])],1),_c('md-list-item',{on:{\"click\":function($event){return _vm.toggle_open()}}},[(_vm.queue.open)?_c('md-icon',[_vm._v(\" lock \")]):_c('md-icon',[_vm._v(\" lock_open \")]),(_vm.queue.open)?_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Stäng kön\")]):_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Öppna kön\")])],1),_c('md-list-item',{attrs:{\"to\":'/queues/' + this.queue.name + '/edit'}},[_c('md-icon',[_vm._v(\"settings\")]),_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Inställningar\")])],1),_c('md-list-item',{attrs:{\"to\":'/queues/' + this.queue.name + '/history'}},[_c('md-icon',[_vm._v(\"history\")]),_c('span',{staticClass:\"md-list-item-text\"},[_vm._v(\"Historik\")])],1)],1)],1)],1):_vm._e(),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[(_vm.in_queue)?_c('span',[_vm._v(\"Hantera min köplats\")]):_c('span',[_vm._v(\"Gå med i kön\")])])]),_c('md-card-content',[(!_vm.in_queue && !_vm.queue.open)?_c('div',[(_vm.$store.state.profile === null)?_c('div',[_c('p',[_vm._v(\"Kön är stängd och du är inte inloggad.\")]),_c('md-button',{staticClass:\"md-primary md-raised\",on:{\"click\":function($event){return _vm.$root.redirect_login()}}},[_vm._v(\" Logga in \")])],1):_c('p',[_vm._v(\" Kön är stängd. \")])]):(!_vm.in_queue && (_vm.queue.rooms.length > 0 && (_vm.$store.state.location === null || !_vm.queue.rooms.map(function (x) { return x.id; }).includes(_vm.$store.state.location.room_id))))?_c('div',[_c('p',[_vm._v(\"För att kunna ställa dig i kön måste du vara inloggad på en dator i någon av följande rum.\")]),_c('ul',_vm._l((_vm.queue.rooms),function(room){return _c('li',{key:room.id},[_vm._v(\" \"+_vm._s(room.name)+\" \")])}),0)]):(!_vm.in_queue && _vm.$store.state.location === null && !_vm.$store.state.is_kthlan && _vm.queue.force_kthlan)?_c('div',[_c('p',[_vm._v(\"För att kunna ställa dig i kön måste du vara ansluten till KTHLAN, exempelvis via eduroam.\")])]):(_vm.$store.state.profile === null)?_c('div',[_c('p',[_vm._v(\"För att kunna ställa dig i kön måste du logga in.\")]),_c('md-button',{staticClass:\"md-primary md-raised\",on:{\"click\":function($event){return _vm.$root.redirect_login()}}},[_vm._v(\" Logga in \")])],1):(!_vm.in_queue && _vm.blocked_by_whitelist)?_c('div',[_c('p',[_vm._v(\"Den här kön kan du inte ställa dig i.\")])]):_c('div',[(_vm.$store.state.location === null)?_c('md-field',[_c('label',{attrs:{\"for\":\"location\"}},[_vm._v(\"Plats\")]),_c('md-input',{attrs:{\"id\":\"location\",\"type\":\"text\",\"required\":\"\"},model:{value:(_vm.location),callback:function ($$v) {_vm.location=$$v},expression:\"location\"}})],1):_vm._e(),_c('md-field',[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"Kommentar\")]),_c('md-input',{attrs:{\"required\":_vm.queue.force_comment,\"type\":\"text\",\"id\":\"comment\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1),_vm._l((_vm.queue.actions),function(p_action){return _c('div',{key:p_action.id},[_c('md-radio',{class:'md-' + p_action.color,attrs:{\"value\":p_action.id},model:{value:(_vm.action),callback:function ($$v) {_vm.action=$$v},expression:\"action\"}},[_vm._v(\" \"+_vm._s(p_action.name)+\" \")])],1)}),(_vm.in_queue)?_c('md-card-actions',[_c('md-button',{staticClass:\"md-accent\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.dequeue(_vm.$store.state)}}},[_c('md-icon',[_vm._v(\"person_add_disabled\")]),_vm._v(\" Lämna kön \")],1),_c('md-button',{staticClass:\"md-primary\",attrs:{\"disabled\":(_vm.queue.force_comment && (_vm.comment === null || _vm.comment.length === 0)) || (_vm.queue.force_action && _vm.action === null),\"type\":\"submit\"},on:{\"click\":_vm.update_own_details}},[_c('md-icon',[_vm._v(\"update\")]),_vm._v(\" Uppdatera \")],1)],1):_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"disabled\":!_vm.queue.open || (_vm.queue.force_comment && (_vm.comment === null || _vm.comment.length === 0)) || (_vm.queue.force_action && _vm.action === null),\"type\":\"submit\"},on:{\"click\":_vm.enqueue}},[_c('md-icon',[_vm._v(\"person_add\")]),_vm._v(\" Gå med i kön \")],1)],1)],2)])],1)],1)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"queue\">\n    <md-dialog-alert\n      md-title=\"Meddelande\"\n      style=\"white-space: pre-line;\"\n      :md-active.sync=\"broadcast_active\"\n      :md-content=\"broadcast_message\"\n      md-confirm-text=\"OK!\"\n      @md-closed=\"broadcast_active = false\"\n    />\n\n    <md-dialog-alert\n      md-title=\"Meddelande\"\n      style=\"white-space: pre-line;\"\n      :md-active.sync=\"notify_active\"\n      :md-content=\"notification_message\"\n      md-confirm-text=\"OK!\"\n      @md-closed=\"broadcast_active = false\"\n    />\n\n    <md-dialog-prompt\n      :md-active.sync=\"prompt_broadcast\"\n      v-model=\"message\"\n      md-title=\"Meddela samtliga\"\n      md-input-placeholder=\"Skriv meddelande...\"\n      md-confirm-text=\"Skicka\"\n      md-cancel-text=\"Avsluta\"\n      @md-confirm=\"broadcast\"\n      @md-cancel=\"prompt_broadcast = false\"\n    />\n\n    <md-dialog-prompt\n      :md-active.sync=\"promt_notify_faculty\"\n      v-model=\"message\"\n      md-title=\"Meddela assistenter\"\n      md-input-placeholder=\"Skriv meddelande...\"\n      md-confirm-text=\"Skicka\"\n      md-cancel-text=\"Avsluta\"\n      @md-confirm=\"broadcast_faculty\"\n      @md-cancel=\"promt_notify_faculty = false\"\n    />\n\n    <md-dialog-confirm\n      :md-active=\"promt_clear_queue && queue.queuing.length !== 0\"\n      md-title=\"Vill du rensa kön?\"\n      md-confirm-text=\"Ja, rensa kön\"\n      md-cancel-text=\"Nej, återgå\"\n      @md-confirm=\"purge()\"\n      @md-cancel=\"promt_clear_queue = false\"\n    />\n\t\t\n    <md-dialog\n      v-if=\"dialog_queuing !== null\"\n      :md-active=\"true\"\n    >\n      <md-dialog-content>\n        <h2>\n          {{ queue.queuing.findIndex(x => x.profile.id === dialog_queuing.profile.id ) + 1 }}.\n          <span v-if=\"dialog_queuing.profile.user_name !== null\">{{ dialog_queuing.profile.name }} ({{ dialog_queuing.profile.user_name }})</span>\n        </h2>\n        <strong>Gick in i kön:</strong> {{ unix_to_datetime(dialog_queuing.entered_at) }}<br />\n        <strong>Plats:</strong> <span :class=\"[{ badLocation: dialog_queuing.bad_location }]\">{{ nice_location(dialog_queuing.location) }}</span><br />\n\t\t\t\t\n        <template v-if=\"dialog_queuing.comment !== null\">\n          <strong>Kommentar:</strong> {{ dialog_queuing.comment }}<br />\n        </template>\n\t\t\t\t\n        <template v-if=\"dialog_queuing.handlers.length > 0\">\n          <strong>Assisteras av:</strong> {{ dialog_queuing.handlers.map(x => x.name + ' (' + x.user_name + ')').join(', ') }}\n        </template>\n      </md-dialog-content>\n\t\t\t\n      <md-dialog-actions>\n        <span v-if=\"is_assistant_in_queue\">\n          <md-button\n            class=\"md-accent\"\n            @click=\"dequeue(dialog_queuing)\"\n          >Ta bort</md-button>\n          <md-button\n            :class=\"[{ 'md-accent': !dialog_queuing.bad_location }]\"\n            @click=\"queuing_bad_location(dialog_queuing)\"\n          >Placering</md-button>\n          <md-button\n            class=\"md-primary\"\n            @click=\"queuing_handle(dialog_queuing.profile)\"\n            v-if=\"dialog_queuing.handlers.find(x => x.id === $store.state.profile.id) === undefined\"\n          >Assistera</md-button>\n          <md-button\n            @click=\"queuing_handle(dialog_queuing.profile)\"\n            v-else\n          >Sluta assistera</md-button>\n        </span>\n\n        <md-button\n          class=\"md-primary\"\n          @click=\"dialog_queuing = null\"\n        >\n          Stäng\n        </md-button>\n      </md-dialog-actions>\n    </md-dialog>\n\n    <md-dialog\n      v-if=\"dialog_booking !== null\"\n      :md-active=\"true\"\n    >\n      <md-dialog-content>\n        <h2>Tidslucka {{ unix_to_datetime(dialog_booking.timestamp) }}</h2>\n        <template v-if=\"$store.state.profile !== null\">\n          <strong>Namn:</strong> {{ dialog_booking.students.map(x => x.name + ' (' + x.user_name + ')').join(', ') }}<br />\n        </template>\n\n        <strong>Plats:</strong> <span\n          v-if=\"dialog_booking.location === null\"\n          class=\"noLocation\"\n        >ingen plats angiven</span><span\n          v-else\n          :class=\"[{ badLocation: dialog_booking.bad_location }]\"\n        >{{ dialog_booking.location }}</span><br />\n\t\t\t\t\n        <template v-if=\"dialog_booking.comment !== null\">\n          <strong>Kommentar:</strong> {{ dialog_booking.comment }}<br />\n        </template>\n\t\t\t\t\n        <template v-if=\"dialog_booking.handlers.length > 0\">\n          <strong>Assisteras av:</strong> {{ dialog_booking.handlers.map(x => x.name + ' (' + x.user_name + ')').join(', ') }}\n        </template>\n      </md-dialog-content>\n\n      <md-dialog-content>\n        <form\n          v-if=\"$store.state.profile !== null && dialog_booking.students.findIndex(x => x.id === $store.state.profile.id) !== -1\"\n          @submit.prevent=\"booking_set_location\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"booking_location\">Ange plats</label>\n            <md-input\n              type=\"text\"\n              id=\"booking_location\"\n              v-model=\"booking_location\"\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n            >\n              Spara\n            </md-button>\n          </md-card-actions>\n        </form>\n      </md-dialog-content>\n\t\t\t\n      <md-dialog-actions>\n        <span v-if=\"is_assistant_in_queue\">\n          <md-button\n            class=\"md-accent\"\n            @click=\"booking_remove(dialog_booking)\"\n          >Ta bort</md-button>\n          <md-button\n            :class=\"[{ 'md-accent': !dialog_booking.bad_location }]\"\n            @click=\"booking_bad_location\"\n            v-if=\"dialog_booking.location !== null\"\n          >Placering</md-button>\n\n          <md-button\n            class=\"md-primary\"\n            @click=\"booking_handle\"\n            v-if=\"dialog_booking.handlers.find(x => x.id === $store.state.profile.id) === undefined\"\n          >Assistera</md-button>\n          <md-button\n            @click=\"booking_handle\"\n            v-else\n          >Sluta assistera</md-button>\n        </span>\n\n        <md-button\n          class=\"md-primary\"\n          @click=\"dialog_booking = null\"\n        >\n          Stäng\n        </md-button>\n      </md-dialog-actions>\n    </md-dialog>\n\t\t\n    <div class=\"md-layout md-gutter md-alignment-top\">\n      <div class=\"md-layout-item md-xlarge-size-70 md-large-size-70 md-medium-size-70 md-small-size-70 md-xsmall-size-100\">\n        <h1>\n          <md-icon\n            v-if=\"!queue.open\"\n            class=\"md-size-2x md-accent\"\n          >\n            lock\n          </md-icon>\n          <md-icon\n            v-if=\"queue.open\"\n            class=\"md-size-2x\"\n          >\n            people\n          </md-icon>\n          {{ queue.name }}\n        </h1>\n\t\t\t\t\n        <p style=\"white-space: pre-line;\">\n          {{ queue.description }}\n        </p>\n\t\t\t\t\n        <md-table v-if=\"queue.bookings.length > 0\">\n          <md-table-row>\n            <md-table-head style=\"width: 30%;\">\n              Tidslucka\n            </md-table-head>\n            <md-table-head\n              style=\"width: 30%;\"\n              v-if=\"$store.state.profile !== null\"\n            >\n              Namn\n            </md-table-head>\n            <md-table-head\n              style=\"width: 40%;\"\n              v-if=\"$store.state.profile !== null\"\n            >\n              Kommentar\n            </md-table-head>\n            <md-table-head\n              style=\"width: 70%;\"\n              v-else\n            >\n              Kommentar\n            </md-table-head>\n          </md-table-row>\n\t\t\t\t\t\n          <md-table-row\n            v-for=\"booking in queue.bookings\"\n            :key=\"booking.id\"\n            @click=\"dialog_booking = booking\"\n            style=\"cursor: pointer;\"\n            :class=\"[{ studentIsHandled: booking.handlers.length > 0 }, { myQueueRow: $store.state.profile !== null && booking.students.findIndex(x => x.id === $store.state.profile.id) !== -1 }]\"\n          >\n            <md-table-cell>\n              {{ unix_to_datetime(booking.timestamp) }}<br />\n              <div\n                v-if=\"booking.location !== null\"\n                :class=\"[{ badLocation: booking.bad_location }]\"\n              >\n                {{ booking.location }}\n              </div>\n              <div\n                v-else\n                class=\"noLocation\"\n              >\n                ingen plats angiven\n              </div>\n            </md-table-cell>\n            <md-table-cell v-if=\"$store.state.profile !== null\">\n              <div\n                v-for=\"student in booking.students\"\n                :key=\"student.id\"\n              >\n                {{ student.name }}\n              </div>\n            </md-table-cell>\n            <md-table-cell>\n              <span v-if=\"booking.comment !== null\">{{ booking.comment }}</span>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n\n        <md-table v-if=\"queue.queuing.length > 0\">\n          <md-table-row>\n            <md-table-head style=\"width: 30%;\">\n              Namn\n            </md-table-head>\n            <md-table-head style=\"width: 20%;\">\n              Tid\n            </md-table-head>\n            <md-table-head style=\"width: 50%;\">\n              Kommentar\n            </md-table-head>\n          </md-table-row>\n\t\t\t\t\t\n          <template v-if=\"view_entire_queue === true\">\n            <md-table-row\n              v-for=\"(user, index) in queue.queuing\"\n              :key=\"user.profile.id\"\n              @click=\"dialog_queuing = user\"\n              style=\"cursor: pointer;\"\n              :class=\"[{ studentIsHandled: user.handlers.length > 0 }, { myQueueRow: $store.state.profile !== null && user.profile.id === $store.state.profile.id }]\"\n            >\n              <md-table-cell>\n                <md-badge\n                  v-if=\"user.action !== null\"\n                  class=\"md-primary md-square\"\n                  :md-content=\"user.action.name\"\n                />\n                <div\n                  v-if=\"user.profile.name !== null\"\n                  style=\"white-space: nowrap;\"\n                >\n                  {{ index + 1 }}. {{ user.profile.name }}\n                </div>\n                <span :class=\"[{ badLocation: user.bad_location }]\">{{ nice_location(user.location) }} </span>\n              </md-table-cell>\n              <md-table-cell>{{ unix_to_datetime(user.entered_at ) }} </md-table-cell>\n              <md-table-cell>\n                <span v-if=\"user.comment !== null\">{{ user.comment }}</span>\n              </md-table-cell>\n            </md-table-row>\n          </template>\n        </md-table>\n      </div>\n\t\t\t\n      <div class=\"md-layout-item md-xlarge-size-30 md-large-size-30 md-medium-size-30 md-small-size-30 md-xsmall-size-100\">\n        <md-card v-if=\"is_assistant_in_queue\">\n          <md-card-header>\n            <h2 class=\"md-title\">\n              Alternativ\n            </h2>\n          </md-card-header>\n\t\t\t\t\t\n          <md-card-content>\n            <md-list>\n              <md-list-item @click=\"prompt_broadcast = true\">\n                <md-icon>chat_bubble_outline</md-icon>\n                <span class=\"md-list-item-text\">Meddela samtliga</span>\n              </md-list-item>\n\t\t\t\t\t\t\t\n              <md-list-item @click=\"promt_notify_faculty = true\">\n                <md-icon>chat_bubble</md-icon>\n                <span class=\"md-list-item-text\">Meddela assistenter</span>\n              </md-list-item>\n\t\t\t\t\t\t\t\n              <md-list-item\n                @click=\"queue.queuing.length !== 0 && (promt_clear_queue = true)\"\n                :disabled=\"queue.queuing.length === 0\"\n              >\n                <md-icon>clear_all</md-icon>\n                <span class=\"md-list-item-text\">Rensa kön</span>\n              </md-list-item>\n\t\t\t\t\t\t\t\n              <md-list-item @click=\"toggle_open()\">\n                <md-icon v-if=\"queue.open\">\n                  lock\n                </md-icon>\n                <md-icon v-else>\n                  lock_open\n                </md-icon>\n                <span\n                  class=\"md-list-item-text\"\n                  v-if=\"queue.open\"\n                >Stäng kön</span>\n                <span\n                  class=\"md-list-item-text\"\n                  v-else\n                >Öppna kön</span>\n              </md-list-item>\n\t\t\t\t\t\t\t\n              <md-list-item :to=\"'/queues/' + this.queue.name + '/edit'\">\n                <md-icon>settings</md-icon>\n                <span class=\"md-list-item-text\">Inställningar</span>\n              </md-list-item>\n\t\t\t\t\t\t\t\n              <md-list-item :to=\"'/queues/' + this.queue.name + '/history'\">\n                <md-icon>history</md-icon>\n                <span class=\"md-list-item-text\">Historik</span>\n              </md-list-item>\n            </md-list>\n          </md-card-content>\n        </md-card>\n\t\t\t\t\n        <br />\n\t\t\t\t\n        <md-card>\n          <md-card-header>\n            <h2 class=\"md-title\">\n              <span v-if=\"in_queue\">Hantera min köplats</span>\n              <span v-else>Gå med i kön</span>\n            </h2>\n          </md-card-header>\n\t\t\t\t\t\n          <md-card-content>\n            <div v-if=\"!in_queue && !queue.open\">\n              <div v-if=\"$store.state.profile === null\">\n                <p>Kön är stängd och du är inte inloggad.</p>\n                <md-button\n                  class=\"md-primary md-raised\"\n                  @click=\"$root.redirect_login()\"\n                >\n                  Logga in\n                </md-button>\n              </div>\n\t\t\t\t\t\t\t\n              <p v-else>\n                Kön är stängd.\n              </p>\n            </div>\n\t\t\t\t\t\t\n            <div v-else-if=\"!in_queue && (queue.rooms.length > 0 && ($store.state.location === null || !queue.rooms.map(x => x.id).includes($store.state.location.room_id)))\">\n              <p>För att kunna ställa dig i kön måste du vara inloggad på en dator i någon av följande rum.</p>\n\t\t\t\t\t\t\t\n              <ul>\n                <li\n                  v-for=\"room in queue.rooms\"\n                  :key=\"room.id\"\n                >\n                  {{ room.name }}\n                </li>\n              </ul>\n            </div>\n\t\t\t\t\t\t\n            <div v-else-if=\"!in_queue && $store.state.location === null && !$store.state.is_kthlan && queue.force_kthlan\">\n              <p>För att kunna ställa dig i kön måste du vara ansluten till KTHLAN, exempelvis via eduroam.</p>\n            </div>\n\t\t\t\t\t\t\n            <div v-else-if=\"$store.state.profile === null\">\n              <p>För att kunna ställa dig i kön måste du logga in.</p>\n              <md-button\n                class=\"md-primary md-raised\"\n                @click=\"$root.redirect_login()\"\n              >\n                Logga in\n              </md-button>\n            </div>\n\t\t\t\t\t\t\n            <div v-else-if=\"!in_queue && blocked_by_whitelist\">\n              <p>Den här kön kan du inte ställa dig i.</p>\n            </div>\n\t\t\t\t\t\t\n            <div v-else>\n              <md-field v-if=\"$store.state.location === null\">\n                <label for=\"location\">Plats</label>\n                <md-input\n                  id=\"location\"\n                  type=\"text\"\n                  v-model=\"location\"\n                  required\n                />\n              </md-field>\n\n              <md-field>\n                <label for=\"comment\">Kommentar</label>\n                <md-input\n                  :required=\"queue.force_comment\"\n                  type=\"text\"\n                  id=\"comment\"\n                  v-model=\"comment\"\n                />\n              </md-field>\n\n              <div\n                v-for=\"p_action in queue.actions\"\n                :key=\"p_action.id\"\n              >\n                <!--class=\"md-get-palette-color(green, A200)\" -->\n                <md-radio\n                  v-model=\"action\"\n                  :value=\"p_action.id\"\n                  :class=\"'md-' + p_action.color\"\n                >\n                  {{ p_action.name }}\n                </md-radio>\n              </div>\n\n              <md-card-actions v-if=\"in_queue\">\n                <md-button\n                  @click=\"dequeue($store.state)\"\n                  type=\"submit\"\n                  class=\"md-accent\"\n                >\n                  <md-icon>person_add_disabled</md-icon> Lämna kön\n                </md-button>\n                <md-button\n                  :disabled=\"(queue.force_comment && (comment === null || comment.length === 0)) || (queue.force_action && action === null)\"\n                  @click=\"update_own_details\"\n                  type=\"submit\"\n                  class=\"md-primary\"\n                >\n                  <md-icon>update</md-icon> Uppdatera\n                </md-button>\n              </md-card-actions>\n\n              <md-card-actions v-else>\n                <md-button\n                  :disabled=\"!queue.open || (queue.force_comment && (comment === null || comment.length === 0)) || (queue.force_action && action === null)\"\n                  @click=\"enqueue\"\n                  type=\"submit\"\n                  class=\"md-primary\"\n                >\n                  <md-icon>person_add</md-icon> Gå med i kön\n                </md-button>\n              </md-card-actions>\n            </div>\n          </md-card-content>\n        </md-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\tname: 'Queue',\n\n\tdata: () => ({\n\t\tqueue: null,\n\t\tlocation: null,\n\t\tcomment: null,\n\t\taction: null,\n\t\tnotify_active: false,\n\t\tbroadcast_active: false,\n\t\tbroadcast_message: null,\n\t\tnotification_message: null,\n\t\tactive_broadcast: false,\n\t\tprompt_broadcast: false,\n\t\tprompt_notify: false,\n\t\tpromt_notify_faculty: false,\n\t\tpromt_clear_queue: false,\n\t\tmessage: null,\n\t\tbooking_location: null,\n\t\tdialog_queuing: null,\n\t\tdialog_booking: null,\n\t}),\n\n\tmethods: {\n\t\tenqueue() {\n\t\t\tfetch('/api/queues/' + this.queue.name + '/queuing', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t'location': this.location,\n\t\t\t\t\t'action': this.action,\n\t\t\t\t\t'comment': this.comment\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status !== 201) {\n\t\t\t\t\tres.json().then (data => {\n\t\t\t\t\t\talert(data.message)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tupdate_own_details() {\n\t\t\tfetch('/api/queues/' + this.queue.name + '/queuing/' + this.$store.state.profile.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t'location': this.location,\n\t\t\t\t\t'action': this.action,\n\t\t\t\t\t'comment': this.comment\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status !== 200) {\n\t\t\t\t\tres.json().then (data => {\n\t\t\t\t\t\talert(data.message)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tdequeue(student) {\n\t\t\tfetch('/api/queues/' + this.queue.name + '/queuing/' + student.profile.id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tif (student.profile.id === this.$store.state.profile.id) {\n\t\t\t\t\t\tthis.comment = null\n\t\t\t\t\t\tthis.action = null\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then (data => {\n\t\t\t\t\t\talert(data.message)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tqueuing_handle(profile) {\n\t\t\tconst qs = this.queue.queuing.find(x => x.profile.id === profile.id)\n\t\t\tconst is_handling = qs.handlers.find(x => x.id === this.$store.state.profile.id) === undefined\n\t\t\t\n\t\t\tfetch('/api/queues/' + this.queue.name + '/queuing/' + qs.profile.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ is_handling: is_handling })\n\t\t\t})\n\t\t},\n\t\t\n\t\tmove_student_first(student) {\n\t\t\tfetch('/api/queues/' + this.queue.name + '/queuing/' + student.profile.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ move_after: null })\n\t\t\t})\n\t\t},\n\t\t\n\t\tmove_student_to_position(student) {\n\t\t\tconst new_position = parseInt(document.getElementById('pos').value)\n\t\t\t\n\t\t\tif (new_position > this.queue.queuing.length || new_position < 1 || isNaN(new_position)) {\n\t\t\t\talert('Positionen du valt är inte giltig.')\n\t\t\t} else if (new_position === 1) {\n\t\t\t\tthis.move_student_first(student)\n\t\t\t} else {\n\t\t\t\t// om man vill ställa sig på position x (1-idicerat) måste vi veta vem som står på positionen innan samt översätta till 0-indicerat\n\t\t\t\tconst student_before = this.queue.queuing[new_position - 2]\n\t\t\t\t\n\t\t\t\tfetch('/api/queues/'+ this.queue.name +'/students/' + student.profile.id, {\n\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\tbody: JSON.stringify({ move_after: student_before.profile.id })\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\tnotify(student) {\n\t\t\tthis.$store.state.socket.emit('notify', {\n\t\t\t\tqueue: this.queue.id,\n\t\t\t\tmessage: this.message,\n\t\t\t\trecipient: student.profile.id\n\t\t\t})\n\t\t\t\n\t\t\tthis.message = null\n\t\t},\n\t\t\n\t\tbroadcast() {\n\t\t\tthis.$store.state.socket.emit('broadcast', {\n\t\t\t\tqueue: this.queue.id,\n\t\t\t\tmessage: this.message\n\t\t\t})\n\t\t\t\n\t\t\tthis.message = null\n\t\t},\n\t\t\n\t\tbroadcast_faculty() {\n\t\t\tthis.$store.state.socket.emit('notify_faculty', {\n\t\t\t\tqueue: this.queue.id,\n\t\t\t\tmessage: this.message\n\t\t\t})\n\t\t\t\n\t\t\tthis.message = null\n\t\t},\n\t\t\n\t\tqueuing_bad_location(student) {\n\t\t\tfetch('/api/queues/' + this.queue.name +'/queuing/' + student.profile.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ bad_location: !student.bad_location })\n\t\t\t})\n\t\t},\n\n\t\tunix_to_datetime(unix) {\n\t\t\t// TODO: övergå till något bibliotek, till exempel Moment\n\t\t\tconst d = new Date(unix)\n\t\t\tconst today = new Date()\n\t\t\t\n\t\t\tconst hour = '0' + d.getHours()\n\t\t\tconst min = '0' + d.getMinutes()\n\t\t\t\n\t\t\tconst time = hour.slice(-2) + ':' + min.slice(-2)\n\n\t\t\tif (today.getDate() === d.getDate() && today.getMonth() === d.getMonth() && today.getFullYear() === d.getFullYear()) {\n\t\t\t\treturn time\n\t\t\t}\n\n\t\t\tvar date = d.getDate() + ' ' + (['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec'][d.getMonth()])\n\n\t\t\tif (today.getFullYear() !== d.getFullYear()) {\n\t\t\t\tdate += ' ' + d.getFullYear()\n\t\t\t}\n\n\t\t\treturn date + ', ' + time\n\t\t},\n\t\t\n\t\tnice_location(location) {\n\t\t\treturn typeof(location) === 'string' ? location : location.name\n\t\t},\n\t\t\n\t\tpurge() {\n\t\t\tfetch('/api/queues/' + this.queue.id + '/queuing', {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t},\n\t\t\n\t\ttoggle_open() {\n\t\t\tfetch('/api/queues/' + this.queue.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ open: !this.queue.open })\n\t\t\t})\n\t\t},\n\t\t\n\t\tfetch_queue() {\n\t\t\tfetch('/api/queues/' + this.$route.params.name).then(res => res.json()).then(queue => {\n\t\t\t\tthis.queue = queue\n\n\t\t\t\tif (this.$store.state.location !== null){\n\t\t\t\t\tthis.location = this.$store.state.location.name\n\t\t\t\t}\n\n\t\t\t\tthis.sort_bookings()\n\t\t\t})\n\t\t},\n\n\t\tsort_bookings() {\n\t\t\tthis.queue.bookings.sort((a, b) => {\n\t\t\t\tif (a.timestamp < b.timestamp) {\n\t\t\t\t\treturn -1\n\t\t\t\t} else if (a.timestamp > b.timestamp) {\n\t\t\t\t\treturn 1\n\t\t\t\t} else {\n\t\t\t\t\tif (a.id < b.id) {\n\t\t\t\t\t\treturn -1\n\t\t\t\t\t} else if (a.id > b.id) {\n\t\t\t\t\t\treturn 1\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tbooking_set_location() {\n\t\t\tfetch('/api/queues/' + this.queue.id + '/bookings/' + this.dialog_booking.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ location: this.booking_location })\n\t\t\t}).then(res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tthis.dialog_booking = null\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tbooking_bad_location() {\n\t\t\tfetch('/api/queues/' + this.queue.name +'/bookings/' + this.dialog_booking.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ bad_location: !this.dialog_booking.bad_location })\n\t\t\t})\n\t\t},\n\n\t\tbooking_handle() {\n\t\t\tfetch('/api/queues/' + this.queue.name + '/bookings/' + this.dialog_booking.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ is_handling: this.dialog_booking.handlers.findIndex(x => x.id === this.$store.state.profile.id) === -1 })\n\t\t\t})\n\t\t},\n\n\t\tbooking_remove() {\n\t\t\tfetch('/api/queues/' + this.queue.id + '/bookings/' + this.dialog_booking.id, { method: 'DELETE' })\n\t\t},\n\t\t\n\t\t// ändrar data om en kö (inklusive t.ex. queuing-listan)\n\t\tsocket_handle_update_queue(data) {\n\t\t\tif (data.queue !== this.queue.id) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tfor (var k of Object.keys(data.changes)) {\n\t\t\t\tthis.queue[k] = data.changes[k]\n\t\t\t}\n\t\t\t\n\t\t\t// om en assistent har öppnat rutan med inställningar för en köande student, justera den\n\t\t\tif (this.dialog_queuing !== null) {\n\t\t\t\tconst qsi = this.queue.queuing.findIndex(x => x.profile.id === this.dialog_queuing.profile.id)\n\n\t\t\t\tthis.dialog_queuing = qsi === -1 ? null : this.queue.queuing[qsi]\n\t\t\t}\n\t\t},\n\t\t\n\t\t// ändrar data om en specifik köande student inuti queuing-listan\n\t\tsocket_handle_update_queue_queuing_student(data) {\n\t\t\tif (data.queue !== this.queue.id) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tfor (const queuing_student of this.queue.queuing) {\n\t\t\t\tif (queuing_student.profile.id === data.student.profile.id) {\n\t\t\t\t\tfor (const k of Object.keys(data.student)) {\n\t\t\t\t\t\tqueuing_student[k] = data.student[k]\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsocket_handle_update_booking(data) {\n\t\t\tif (data.queue !== this.queue.id) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.queue.bookings = this.queue.bookings.filter(x => x.id !== data.booking.id)\n\t\t\tthis.queue.bookings.push(data.booking)\n\t\t\tthis.sort_bookings()\n\n\t\t\tif (this.dialog_booking !== null && this.dialog_booking.id === data.booking.id) {\n\t\t\t\tthis.dialog_booking = data.booking\n\t\t\t\tthis.booking_location = data.booking.location\n\t\t\t}\n\t\t},\n\n\t\tsocket_handle_delete_booking(booking_id) {\n\t\t\tthis.queue.bookings = this.queue.bookings.filter(x => x.id !== booking_id)\n\n\t\t\tif (this.dialog_booking !== null && this.dialog_booking.id === booking_id) {\n\t\t\t\tthis.dialog_booking = null\n\t\t\t}\n\t\t},\n\t\t\n\t\t// tar emot ett broadcastmeddelande för en kö\n\t\tsocket_handle_broadcast(data) {\n\t\t\tif (data.queue !== this.queue.id) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tthis.broadcast_active = true\n\t\t\tthis.broadcast_message = data.message + '\\n\\nHälsningar från ' + data.sender.name + ' <' + data.sender.user_name + '@kth.se>'\n\t\t},\n\t\t\n\t\t// tar emot ett broadcastmeddelande för en kö\n\t\tsocket_handle_notify(data) {\n\t\t\tif (data.queue !== this.queue.id) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tthis.notify_active = true\n\t\t\tthis.notification_message = 'Personligt meddelande:\\n' + data.message + '\\n\\nHälsningar från ' + data.sender.name + ' <' + data.sender.user_name + '@kth.se>'\n\t\t}\n\t},\n\n\tbeforeDestroy() {\n\t\tthis.$store.state.socket.removeListener('connect', this.fetch_queue)\n\t\tthis.$store.state.socket.removeListener('update_queue', this.socket_handle_update_queue)\n\t\tthis.$store.state.socket.removeListener('update_queue_queuing_student', this.socket_handle_update_queue_queuing_student)\n\t\tthis.$store.state.socket.removeListener('update_booking', this.socket_handle_update_booking)\n\t\tthis.$store.state.socket.removeListener('delete_booking', this.socket_handle_delete_booking)\n\t\tthis.$store.state.socket.removeListener('broadcast', this.socket_handle_broadcast)\n\t\tthis.$store.state.socket.removeListener('notify', this.socket_handle_notify)\n\t},\n\t\n\tcreated() {\n\t\tthis.$store.state.socket.on('connect', this.fetch_queue)\n\t\tthis.$store.state.socket.on('update_queue', this.socket_handle_update_queue)\n\t\tthis.$store.state.socket.on('update_queue_queuing_student', this.socket_handle_update_queue_queuing_student)\n\t\tthis.$store.state.socket.on('update_booking', this.socket_handle_update_booking)\n\t\tthis.$store.state.socket.on('delete_booking', this.socket_handle_delete_booking)\n\t\tthis.$store.state.socket.on('broadcast', this.socket_handle_broadcast)\t\t\n\t\tthis.$store.state.socket.on('notify', this.socket_handle_notify)\n\t\t\n\t\tthis.fetch_queue()\n\t},\n\n\tcomputed: {\n\t\tin_queue() {\n\t\t\t// testar om den inloggade profilen står i kön\n\t\t\tif (this.$store.state.profile === null) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\tfor (const student of this.queue.queuing) {\n\t\t\t\tif (this.$store.state.profile.id === student.profile.id) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false\n\t\t},\n\t\t\n\t\tis_assistant_in_queue() {\n\t\t\t// för att få tillgång till admin måste personen vara inloggad\n\t\t\tif (this.$store.state.profile === null) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\t// är man lärare är man alltid assistent\n\t\t\tif (this.$store.state.profile.teacher === true){\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\t// man kan annars vara assistent i den aktuella kön\n\t\t\treturn this.queue.assistants.findIndex(x => x.id === this.$store.state.profile.id) !== -1\n\t\t},\n\t\t\n\t\tblocked_by_whitelist() {\n\t\t\tif (this.queue.students.length === 0) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\tif (this.is_assistant_in_queue === true) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\tfor (const student of this.queue.students) {\n\t\t\t\tif (student !== null && student.id === this.$store.state.profile.id) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn true\n\t\t},\n\t\t\n\t\tprofile_in_white_list() {\n\t\t\tfor (const student of this.queue.students) {\n\t\t\t\tif (student !== null && this.$store.state.profile.id === student.id){\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn false\n\t\t},\n\t\t\n\t\thas_white_list_and_profile_in_it() {\n\t\t\treturn (this.has_white_list && this.profile_in_white_list)\n\t\t},\n\t\t\n\t\tview_entire_queue() {\n\t\t\treturn (!this.has_white_list || this.is_assistant_in_queue)\n\t\t},\n\t\t\n\t\tprofile_queuing: function() {\n\t\t\treturn this.queue.queuing.filter(function(u) {\n\t\t\t\treturn u.id === this.$store.state.profile.id\n\t\t\t})\n\t\t}\n\t},\n\n\twatch: {\n\t\tdialog_queuing: function() {\n\t\t\tthis.dialog_booking = null\n\t\t},\n\n\t\tdialog_booking: function(n) {\n\t\t\tthis.dialog_queuing = null\n\n\t\t\tif (n !== null) {\n\t\t\t\tthis.booking_location = n.location\n\t\t\t}\n\t\t}\n\t},\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Queue.vue?vue&type=template&id=55e8194a&\"\nimport script from \"./Queue.vue?vue&type=script&lang=js&\"\nexport * from \"./Queue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.queue !== null && _vm.colors !== null && _vm.existing_rooms !== null && _vm.is_assistant_in_queue)?_c('div',[_c('md-dialog-confirm',{attrs:{\"md-active\":_vm.promt_delete_queue,\"md-title\":\"Vill du radera kön?\",\"md-confirm-text\":\"Ja, radera kön\",\"md-cancel-text\":\"Nej, återgå\"},on:{\"update:mdActive\":function($event){_vm.promt_delete_queue=$event},\"update:md-active\":function($event){_vm.promt_delete_queue=$event},\"md-confirm\":_vm.delete_queue,\"md-cancel\":function($event){_vm.promt_delete_queue = false}}}),_c('h1',[_vm._v(\"Inställningar för \"+_vm._s(this.queue.name))]),_c('md-card',[_c('md-card-content',[_c('form',{attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.update_settings($event)}}},[_c('md-field',[_c('label',[_vm._v(\"Namn\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"name_new\",\"name\":\"name_new\"},model:{value:(_vm.name_new),callback:function ($$v) {_vm.name_new=$$v},expression:\"name_new\"}})],1),_c('md-field',[_c('label',[_vm._v(\"Beskrivning\")]),_c('md-textarea',{attrs:{\"id\":\"new_description\",\"name\":\"new_description\"},model:{value:(_vm.queue.description),callback:function ($$v) {_vm.$set(_vm.queue, \"description\", $$v)},expression:\"queue.description\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Spara ändringar \")])],1)],1)])],1),_c('br'),_c('md-card',[_c('md-card-content',[_c('md-switch',{on:{\"change\":function($event){return _vm.update_force();}},model:{value:(_vm.queue.force_action),callback:function ($$v) {_vm.$set(_vm.queue, \"force_action\", $$v)},expression:\"queue.force_action\"}},[_vm._v(\" Kräv action \")]),_c('md-switch',{on:{\"change\":function($event){return _vm.update_force();}},model:{value:(_vm.queue.force_comment),callback:function ($$v) {_vm.$set(_vm.queue, \"force_comment\", $$v)},expression:\"queue.force_comment\"}},[_vm._v(\" Kräv kommentar \")])],1)],1),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Schemalagda händelser \")])]),_c('md-card-content',[_c('form',{staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_task($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"task_type\"}},[_vm._v(\"Händelse\")]),_c('md-select',{attrs:{\"id\":\"task_type\",\"required\":\"\"},model:{value:(_vm.task_type),callback:function ($$v) {_vm.task_type=$$v},expression:\"task_type\"}},[_c('md-option',{attrs:{\"value\":\"OPEN\"}},[_vm._v(\" Öppna kön \")]),_c('md-option',{attrs:{\"value\":\"CLOSE\"}},[_vm._v(\" Stäng kön \")])],1)],1),_c('md-field',[_c('label',[_vm._v(\"Datum och tid\")]),_c('md-input',{attrs:{\"type\":\"datetime-local\",\"required\":\"\"},model:{value:(_vm.task_deadline),callback:function ($$v) {_vm.task_deadline=$$v},expression:\"task_deadline\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.task_type === null || _vm.task_deadline === null || _vm.task_deadline.length === 0}},[_vm._v(\" Schemalägg ny händelse \")])],1)],1),(_vm.tasks.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',[_vm._v(\"Händelse\")]),_c('md-table-head',[_vm._v(\"Tidpunkt\")]),_c('md-table-head',[_vm._v(\"Alternativ\")])],1),_vm._l((_vm.tasks),function(task){return _c('md-table-row',{key:task.id},[_c('md-table-cell',[(task.type === 'OPEN')?_c('span',[_vm._v(\"Öppna kön\")]):_vm._e(),(task.type === 'CLOSE')?_c('span',[_vm._v(\"Stäng kön\")]):_vm._e()]),_c('md-table-cell',[_vm._v(_vm._s(_vm.unix_to_datetime(task.deadline)))]),_c('md-table-cell',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.remove_task(task)}}},[_vm._v(\" Radera \")])],1)],1)})],2):_vm._e()],1)],1),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Tillåtna salar \")])]),_c('md-card-content',[_c('p',[_vm._v(\"Om inga anges kan studenterna sitta var som helst.\")]),_c('md-switch',{on:{\"change\":function($event){return _vm.update_force();}},model:{value:(_vm.queue.force_kthlan),callback:function ($$v) {_vm.$set(_vm.queue, \"force_kthlan\", $$v)},expression:\"queue.force_kthlan\"}},[_vm._v(\" Kräv KTHLAN \")]),_c('form',{attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.change_rooms($event)}}},_vm._l((_vm.existing_rooms),function(room){return _c('md-checkbox',{key:room.id,attrs:{\"value\":room.id},on:{\"change\":function($event){return _vm.change_room(room.id)}},model:{value:(_vm.clicked_rooms),callback:function ($$v) {_vm.clicked_rooms=$$v},expression:\"clicked_rooms\"}},[_vm._v(\" \"+_vm._s(room.name)+\" \")])}),1)],1)],1),_c('br'),(_vm.$store.state.profile.teacher)?_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Assistenter \")])]),_c('md-card-content',[_c('div',{staticClass:\"md-layout\"},[_c('form',{staticClass:\"md-layout-item\",staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_assistant($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"user_name_assistant\"}},[_vm._v(\"KTH-användarnamn\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"user_name_assistant\"},model:{value:(_vm.user_name_assistant),callback:function ($$v) {_vm.user_name_assistant=$$v},expression:\"user_name_assistant\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.user_name_assistant === null || _vm.user_name_assistant.length === 0}},[_vm._v(\" Lägg till assistent \")])],1)],1),_c('div',{staticClass:\"md-layout-item\"}),_c('form',{staticClass:\"md-layout-item\",staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_assistants_from_course($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"course_code_assistant\"}},[_vm._v(\"Kurskod\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"course_code_assistant\"},model:{value:(_vm.course_code_assistant),callback:function ($$v) {_vm.course_code_assistant=$$v},expression:\"course_code_assistant\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.course_code_assistant === null || _vm.course_code_assistant.length === 0}},[_vm._v(\" Lägg till assistenter från kurs \")])],1)],1)]),(_vm.queue.assistants.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',[_vm._v(\"Användarnamn\")]),_c('md-table-head',[_vm._v(\"Namn\")]),_c('md-table-head',[_vm._v(\"Alternativ\")])],1),_vm._l((_vm.sorted_assistants),function(assistant){return _c('md-table-row',{key:assistant.id},[_c('md-table-cell',[_vm._v(_vm._s(assistant.user_name))]),_c('md-table-cell',[_vm._v(_vm._s(assistant.name))]),_c('md-table-cell',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.remove_assistant(assistant)}}},[_vm._v(\" Radera \")])],1)],1)})],2):_vm._e()],1)],1):_vm._e(),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Vitlista \")])]),_c('md-card-content',[_c('form',{staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_student($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"user_name_student\"}},[_vm._v(\"KTH-användarnamn\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"user_name_student\"},model:{value:(_vm.user_name_student),callback:function ($$v) {_vm.user_name_student=$$v},expression:\"user_name_student\"}})],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.user_name_student === null || _vm.user_name_student.length === 0}},[_vm._v(\" Lägg till student \")])],1)],1),(_vm.queue.students.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',[_vm._v(\"Användarnamn\")]),_c('md-table-head',[_vm._v(\"Namn\")]),_c('md-table-head',[_vm._v(\"Alternativ\")])],1),_vm._l((_vm.sorted_students),function(student){return _c('md-table-row',{key:student.id},[_c('md-table-cell',[_vm._v(_vm._s(student.user_name))]),_c('md-table-cell',[_vm._v(_vm._s(student.name))]),_c('md-table-cell',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.remove_student(student)}}},[_vm._v(\" Radera \")])],1)],1)})],2):_c('p',[_vm._v(\" Vitlistan är tom; alla studenter kan ställa sig i kön. \")])],1)],1),_c('br'),_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Actions \")])]),_c('md-card-content',[_c('form',{staticStyle:{\"display\":\"inline-flex\"},attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.add_action($event)}}},[_c('md-field',[_c('label',{attrs:{\"for\":\"action_name\"}},[_vm._v(\"Namn på action\")]),_c('md-input',{attrs:{\"type\":\"text\",\"id\":\"action_name\",\"required\":\"\"},model:{value:(_vm.action_name),callback:function ($$v) {_vm.action_name=$$v},expression:\"action_name\"}})],1),_c('md-field',[_c('label',{attrs:{\"for\":\"action_color\"}},[_vm._v(\"Färg på action\")]),_c('md-select',{attrs:{\"name\":\"Color\",\"id\":\"action_color\",\"required\":\"\"},model:{value:(_vm.action_color),callback:function ($$v) {_vm.action_color=$$v},expression:\"action_color\"}},_vm._l((_vm.colors),function(color){return _c('md-option',{key:color,attrs:{\"value\":color}},[_vm._v(\" \"+_vm._s(color)+\" \")])}),1)],1),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.action_name === null || _vm.action_name.length === 0 || _vm.action_color === null}},[_vm._v(\" Lägg till action \")])],1)],1),(_vm.queue.actions.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',[_vm._v(\"Action\")]),_c('md-table-head',[_vm._v(\"Färg\")]),_c('md-table-head',[_vm._v(\"Alternativ\")])],1),_vm._l((_vm.queue.actions),function(action){return _c('md-table-row',{key:action.id},[_c('md-table-cell',[_vm._v(_vm._s(action.name))]),_c('md-table-cell',[_vm._v(_vm._s(action.color))]),_c('md-table-cell',[_c('md-button',{staticClass:\"md-accent\",on:{\"click\":function($event){return _vm.remove_action(action)}}},[_vm._v(\" Radera \")])],1)],1)})],2):_vm._e()],1)],1),_c('br'),(_vm.$store.state.profile.teacher)?_c('md-card',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Ta bort kön \")])]),_c('md-card-content',[_c('p',[_vm._v(\"Om du tar bort kön försvinner den och all associerad statistik permanent.\")]),_c('md-button',{staticClass:\"md-raised md-accent\",on:{\"click\":function($event){return _vm.delete_queue()}}},[_vm._v(\" Ta bort kön \")])],1)],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"queue !== null && colors !== null && existing_rooms !== null && is_assistant_in_queue\">\n    <md-dialog-confirm\n      :md-active.sync=\"promt_delete_queue\"\n      md-title=\"Vill du radera kön?\"\n      md-confirm-text=\"Ja, radera kön\"\n      md-cancel-text=\"Nej, återgå\"\n      @md-confirm=\"delete_queue\"\n      @md-cancel=\"promt_delete_queue = false\"\n    />\n\t\t\n    <h1>Inställningar för {{ this.queue.name }}</h1>\n\t\t\n    <md-card>\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"update_settings\"\n        >\n          <md-field>\n            <label>Namn</label>\n            <md-input\n              type=\"text\"\n              id=\"name_new\"\n              name=\"name_new\"\n              v-model=\"name_new\"\n            />\n          </md-field>\n\t\t\t\t\t\n          <md-field>\n            <label>Beskrivning</label>\n            <md-textarea\n              id=\"new_description\"\n              name=\"new_description\"\n              v-model=\"queue.description\"\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n            >\n              Spara ändringar\n            </md-button>\n          </md-card-actions>\n        </form>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\t\t\n    <md-card>\n      <md-card-content>\n        <md-switch\n          v-model=\"queue.force_action\"\n          @change=\"update_force();\"\n        >\n          Kräv action\n        </md-switch>\n        <md-switch\n          v-model=\"queue.force_comment\"\n          @change=\"update_force();\"\n        >\n          Kräv kommentar\n        </md-switch>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\t\t\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Schemalagda händelser\n        </h2>\n      </md-card-header>\n\t\t\t\t\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"add_task\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"task_type\">Händelse</label>\n            <md-select\n              v-model=\"task_type\"\n              id=\"task_type\"\n              required\n            >\n              <md-option value=\"OPEN\">\n                Öppna kön\n              </md-option>\n              <md-option value=\"CLOSE\">\n                Stäng kön\n              </md-option>\n            </md-select>\n          </md-field>\n\n          <md-field>\n            <label>Datum och tid</label>\n            <md-input\n              type=\"datetime-local\"\n              v-model=\"task_deadline\"\n              required\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n              :disabled=\"task_type === null || task_deadline === null || task_deadline.length === 0\"\n            >\n              Schemalägg ny händelse\n            </md-button>\n          </md-card-actions>\n        </form>\n\n        <md-table v-if=\"tasks.length > 0\">\n          <md-table-row>\n            <md-table-head>Händelse</md-table-head>\n            <md-table-head>Tidpunkt</md-table-head>\n            <md-table-head>Alternativ</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"task in tasks\"\n            :key=\"task.id\"\n          >\n            <md-table-cell>\n              <span v-if=\"task.type === 'OPEN'\">Öppna kön</span>\n              <span v-if=\"task.type === 'CLOSE'\">Stäng kön</span>\n            </md-table-cell>\n            <md-table-cell>{{ unix_to_datetime(task.deadline) }}</md-table-cell>\n            <md-table-cell>\n              <md-button\n                @click=\"remove_task(task)\"\n                class=\"md-accent\"\n              >\n                Radera\n              </md-button>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\t\t\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Tillåtna salar\n        </h2>\n      </md-card-header>\n\t\t\t\t\n      <md-card-content>\n        <p>Om inga anges kan studenterna sitta var som helst.</p>\n\n        <md-switch\n          v-model=\"queue.force_kthlan\"\n          @change=\"update_force();\"\n        >\n          Kräv KTHLAN\n        </md-switch>\n\t\t\t\t\n        <form\n          novalidate\n          @submit.prevent=\"change_rooms\"\n        >\n          <md-checkbox\n            v-for=\"room in existing_rooms\"\n            v-model=\"clicked_rooms\"\n            @change=\"change_room(room.id)\"\n            :key=\"room.id\"\n            :value=\"room.id\"\n          >\n            {{ room.name }}\n          </md-checkbox>\n        </form>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\t\t\n    <!-- vy endast för lärare - lägg till och ta bort assistenter -->\n    <md-card v-if=\"$store.state.profile.teacher\">\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Assistenter\n        </h2>\n      </md-card-header>\n\t\t\t\n      <md-card-content>\n        <div class=\"md-layout\">\n          <form\n            novalidate\n            @submit.prevent=\"add_assistant\"\n            style=\"display: inline-flex;\"\n            class=\"md-layout-item\"\n          >\n            <md-field>\n              <label for=\"user_name_assistant\">KTH-användarnamn</label>\n              <md-input\n                type=\"text\"\n                id=\"user_name_assistant\"\n                v-model=\"user_name_assistant\"\n              />\n            </md-field>\n\n            <md-card-actions>\n              <md-button\n                type=\"submit\"\n                class=\"md-primary\"\n                :disabled=\"user_name_assistant === null || user_name_assistant.length === 0\"\n              >\n                Lägg till assistent\n              </md-button>\n            </md-card-actions>\n          </form>\n\n          <div class=\"md-layout-item\" />\n\n          <form\n            novalidate\n            @submit.prevent=\"add_assistants_from_course\"\n            style=\"display: inline-flex;\"\n            class=\"md-layout-item\"\n          >\n            <md-field>\n              <label for=\"course_code_assistant\">Kurskod</label>\n              <md-input\n                type=\"text\"\n                id=\"course_code_assistant\"\n                v-model=\"course_code_assistant\"\n              />\n            </md-field>\n\n            <md-card-actions>\n              <md-button\n                type=\"submit\"\n                class=\"md-primary\"\n                :disabled=\"course_code_assistant === null || course_code_assistant.length === 0\"\n              >\n                Lägg till assistenter från kurs\n              </md-button>\n            </md-card-actions>\n          </form>\n        </div>\n\t\t\t\n        <md-table v-if=\"queue.assistants.length > 0\">\n          <md-table-row>\n            <md-table-head>Användarnamn</md-table-head>\n            <md-table-head>Namn</md-table-head>\n            <md-table-head>Alternativ</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"assistant in sorted_assistants\"\n            :key=\"assistant.id\"\n          >\n            <md-table-cell>{{ assistant.user_name }}</md-table-cell>\n            <md-table-cell>{{ assistant.name }}</md-table-cell>\n            <md-table-cell>\n              <md-button\n                @click=\"remove_assistant(assistant)\"\n                class=\"md-accent\"\n              >\n                Radera\n              </md-button>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n      </md-card-content>\n    </md-card>\n\t\t\n    <br />\n\t\t\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Vitlista\n        </h2>\n      </md-card-header>\n\t\t\t\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"add_student\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"user_name_student\">KTH-användarnamn</label>\n            <md-input\n              type=\"text\"\n              id=\"user_name_student\"\n              v-model=\"user_name_student\"\n            />\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n              :disabled=\"user_name_student === null || user_name_student.length === 0\"\n            >\n              Lägg till student\n            </md-button>\n          </md-card-actions>\n        </form>\n\t\t\t\n        <md-table v-if=\"queue.students.length > 0\">\n          <md-table-row>\n            <md-table-head>Användarnamn</md-table-head>\n            <md-table-head>Namn</md-table-head>\n            <md-table-head>Alternativ</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"student in sorted_students\"\n            :key=\"student.id\"\n          >\n            <md-table-cell>{{ student.user_name }}</md-table-cell>\n            <md-table-cell>{{ student.name }}</md-table-cell>\n            <md-table-cell>\n              <md-button\n                @click=\"remove_student(student)\"\n                class=\"md-accent\"\n              >\n                Radera\n              </md-button>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n\t\t\t\t\t\n        <p v-else>\n          Vitlistan är tom; alla studenter kan ställa sig i kön.\n        </p>\n      </md-card-content>\n    </md-card>\n\t\t\t\n    <br />\n\n    <md-card>\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Actions\n        </h2>\n      </md-card-header>\n\t\t\t\t\n      <md-card-content>\n        <form\n          novalidate\n          @submit.prevent=\"add_action\"\n          style=\"display: inline-flex;\"\n        >\n          <md-field>\n            <label for=\"action_name\">Namn på action</label>\n            <md-input\n              type=\"text\"\n              id=\"action_name\"\n              v-model=\"action_name\"\n              required\n            />\n          </md-field>\n\n          <md-field>\n            <label for=\"action_color\">Färg på action</label>\n            <md-select\n              v-model=\"action_color\"\n              name=\"Color\"\n              id=\"action_color\"\n              required\n            >\n              <md-option\n                v-for=\"color in colors\"\n                :value=\"color\"\n                :key=\"color\"\n              >\n                {{ color }}\n              </md-option>\n            </md-select>\n          </md-field>\n\n          <md-card-actions>\n            <md-button\n              type=\"submit\"\n              class=\"md-primary\"\n              :disabled=\"action_name === null || action_name.length === 0 || action_color === null\"\n            >\n              Lägg till action\n            </md-button>\n          </md-card-actions>\n        </form>\n\t\t\t\t\n        <md-table v-if=\"queue.actions.length > 0\">\n          <md-table-row>\n            <md-table-head>Action</md-table-head>\n            <md-table-head>Färg</md-table-head>\n            <md-table-head>Alternativ</md-table-head>\n          </md-table-row>\n          <md-table-row\n            v-for=\"action in queue.actions\"\n            :key=\"action.id\"\n          >\n            <md-table-cell>{{ action.name }}</md-table-cell>\n            <md-table-cell>{{ action.color }}</md-table-cell>\n            <md-table-cell>\n              <md-button\n                @click=\"remove_action(action)\"\n                class=\"md-accent\"\n              >\n                Radera\n              </md-button>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n      </md-card-content>\n    </md-card>\n\t\t\t\n    <br />\n\n    <md-card v-if=\"$store.state.profile.teacher\">\n      <md-card-header>\n        <h2 class=\"md-title\">\n          Ta bort kön\n        </h2>\n      </md-card-header>\n\t\t\t\t\n      <md-card-content>\n        <p>Om du tar bort kön försvinner den och all associerad statistik permanent.</p>\n\t\t\t\t\t\n        <md-button\n          @click=\"delete_queue()\"\n          class=\"md-raised md-accent\"\n        >\n          Ta bort kön\n        </md-button>\n      </md-card-content>\n    </md-card>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tname: 'QueueEdit',\n\n\tdata: () => ({\n\t\tqueue: null,\n\t\tname_new: null,\n\t\ttasks: [],\n\t\tcolors: null,\n\t\tuser_name_assistant: null,\n\t\tcourse_code_assistant: null,\n\t\tuser_name_student: null,\n\t\taction_name: null,\n\t\taction_color: null,\n\t\tclicked_rooms: [],\n\t\texisting_rooms: null,\n\t\ttask_type: null,\n\t\ttask_deadline: null,\n\t\tpromt_delete_queue: false\n\t}),\n\n\tmethods: {\n\t\tupdate_settings() {\n\t\t\tfetch('/api/queues/' + this.queue.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tname: this.name_new,\n\t\t\t\t\tdescription: this.queue.description\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tfetch('/api/queues/' + this.queue.id).then(res => res.json()).then(queue_data => this.$router.push('/queues/' + queue_data.name))\n\t\t\t\t} else {\n\t\t\t\t\tif (res.status === 400) {\n\t\t\t\t\t\tres.json().then(data => {\n\t\t\t\t\t\t\talert(data.message)\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('Ett fel inträffade. Se webbläsarens konsol.')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\talert('Misslyckades med att kontakta Enqueue. Är du ansluten till internet?')\n\t\t\t})\n\t\t},\n\n\t\tupdate_force() {\n\t\t\tfetch('/api/queues/' + this.queue.id, {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tforce_kthlan: this.queue.force_kthlan,\n\t\t\t\t\tforce_action: this.queue.force_action,\n\t\t\t\t\tforce_comment: this.queue.force_comment\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status !== 200) {\n\t\t\t\t\tres.json().then(j => {\n\t\t\t\t\t\talert(j)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tchange_room(room_id){\n\t\t\tif (this.queue.rooms.map(r => r.id).includes(room_id)) {\n\t\t\t\tfetch('/api/queues/'+ this.queue.name +'/rooms/' + room_id, {\n\t\t\t\t\tmethod: 'DELETE'\n\t\t\t\t})\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tfetch('/api/queues/'+ this.queue.name +'/rooms', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\tbody: JSON.stringify({ room_id: room_id })\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\tupdate_clicked_rooms() {\n\t\t\tif (this.queue === null || this.existing_rooms === null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tconst clicked_rooms = this.queue.rooms.map(r => r.id)\n\t\t\tthis.clicked_rooms = []\n\t\t\t\n\t\t\tfor (const room of this.existing_rooms) {\n\t\t\t\tif (clicked_rooms.includes(room.id)) {\n\t\t\t\t\tthis.clicked_rooms.push(room.id)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tchange_actions(){\n\n\t\t\tfetch('/api/queues/'+ this.queue.id + '/actions', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ name: this.action_name, color: this.action_color })\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 201) {\n\t\t\t\t\tthis.action_name = null\n\t\t\t\t\tthis.action_color = null\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tdelete_queue(){\n\t\t\tif (this.promt_delete_queue) {\n\t\t\t\tfetch('/api/queues/' + this.queue.id, {\n\t\t\t\t\tmethod: 'DELETE'\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tthis.$router.push('/queues')\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('Ett fel inträffade när kön skulle raderas.')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.promt_delete_queue = true\n\t\t\t}\n\t\t},\n\n\t\tadd_assistant() {\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/assistants', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify([{ user_name: this.user_name_assistant }])\n\t\t\t}).then(res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tthis.user_name_assistant = null\n\t\t\t\t\t\n\t\t\t\t\tres.json().then(data => {\n\t\t\t\t\t\tif (data.count_added === 0) {\n\t\t\t\t\t\t\talert('Personen är redan assistent i den här kön.')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (res.status === 400) {\n\t\t\t\t\tres.json().then(error => {\n\t\t\t\t\t\tswitch (error.data) {\n\t\t\t\t\t\t\tcase 'INVALID_LIST_ELEMENT':\n\t\t\t\t\t\t\t\talert('Ogiltigt eller okänt användarnamn.')\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\talert(error.message)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\talert('Ett fel inträffade. Se webbläsarens konsol.')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tadd_assistants_from_course() {\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/assistants', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ course: this.course_code_assistant })\n\t\t\t}).then(res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tthis.course_code_assistant = null\n\t\t\t\t\t\n\t\t\t\t\tres.json().then(data => {\n\t\t\t\t\t\tif (data.count_added === 0) {\n\t\t\t\t\t\t\talert('Inga nya assistenter lades till.')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (res.status === 400) {\n\t\t\t\t\tres.json().then(error => {\n\t\t\t\t\t\tswitch (error.data) {\n\t\t\t\t\t\t\tcase 'INVALID_COURSE_CODE':\n\t\t\t\t\t\t\t\talert('Ogiltig kurskod.')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 'RETRIEVAL_FAILED':\n\t\t\t\t\t\t\t\talert('Misslyckades med att hämta assistentlistan från KTH. Felaktig kurskod?')\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\talert(error.message)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\talert('Ett fel inträffade. Se webbläsarens konsol.')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tremove_assistant (assistant){\n\t\t\tfetch('/api/queues/' + this.queue.id + '/assistants/' + assistant.id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t},\n\n\t\tadd_student () {\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/students', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ user_name: this.user_name_student }) // mpola, jark etc.\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 201) {\n\t\t\t\t\tthis.user_name_student = ''\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tremove_student (student) {\n\t\t\tfetch('/api/queues/' + this.queue.id + '/students/' + student.id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t},\n\n\t\tadd_action (){\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/actions', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tname: this.action_name,\n\t\t\t\t\tcolor: this.action_color\n\t\t\t\t})\n\t\t\t}).then(() => {\n\t\t\t\tthis.action_name = null\n\t\t\t\tthis.action_color = null\n\t\t\t})\n\t\t},\n\n\t\tremove_action(action) {\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/actions/' + action.id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t},\n\n\t\tadd_task() {\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/tasks', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttype: this.task_type,\n\t\t\t\t\tdata: {},\n\t\t\t\t\tdeadline: new Date(this.task_deadline).valueOf()\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 201) {\n\t\t\t\t\tthis.task_type = null\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tremove_task(task) {\n\t\t\tfetch('/api/queues/'+ this.queue.id +'/tasks/' + task.id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t},\n\n\t\tfetch_queue() {\n\t\t\tfetch('/api/queues/' + this.$route.params.name).then(res => res.json()).then(queue => {\n\t\t\t\tthis.queue = queue\n\t\t\t\n\t\t\t\tif (queue.rooms.length > 0){\n\t\t\t\t\tthis.update_clicked_rooms()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (this.name_new === null) {\n\t\t\t\t\tthis.name_new = queue.name\n\t\t\t\t}\n\n\t\t\t\tfetch('/api/queues/' + queue.name + '/tasks').then(res => res.json()).then(tasks => {\n\t\t\t\t\tthis.tasks = tasks\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t\n\t\tunix_to_datetime(unix) {\n\t\t\t// TODO: övergå till något bibliotek, till exempel Moment\n\t\t\tconst d = new Date(unix)\n\t\t\tconst today = new Date()\n\t\t\t\n\t\t\tconst hour = '0' + d.getHours()\n\t\t\tconst min = '0' + d.getMinutes()\n\t\t\t\n\t\t\tconst time = hour.slice(-2) + ':' + min.slice(-2)\n\n\t\t\tif (today.getDate() === d.getDate() && today.getMonth() === d.getMonth() && today.getFullYear() === d.getFullYear()) {\n\t\t\t\treturn time\n\t\t\t}\n\n\t\t\tvar date = d.getDate() + ' ' + (['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec'][d.getMonth()])\n\n\t\t\tif (today.getFullYear() !== d.getFullYear()) {\n\t\t\t\tdate += ' ' + d.getFullYear()\n\t\t\t}\n\n\t\t\treturn date + ', ' + time\n\t\t},\n\t\t\n\t\tsocket_handle_update_queue(data) {\n\t\t\tfor (var k of Object.keys(data.changes)) {\n        this.queue[k] = data.changes[k]\n        \n        if (k === 'rooms') {\n          this.update_clicked_rooms()\n        }\n\t\t\t}\n\t\t},\n\t\t\n\t\tsocket_handle_remove_task(data) {\n\t\t\tthis.tasks = this.tasks.filter(t => t.id !== data.task)\n\t\t},\n\t\t\n\t\tsocket_handle_add_task(data) {\n\t\t\tif (data.queue === this.queue.id) {\n\t\t\t\tthis.tasks.push(data.task)\n\n\t\t\t\tthis.tasks.sort((a, b) => {\n\t\t\t\t\tif (a.deadline === b.deadline) {\n\t\t\t\t\t\tif (a.id === b.id) { return 0 }\n\n\t\t\t\t\t\treturn a.id > b.id ? 1 : -1\n\t\t\t\t\t}\n\n\t\t\t\t\treturn a.deadline > b.deadline ? 1 : -1\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tsort_users: users => users.sort((a, b) => {\n\t\t\tif (a.name < b.name) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.name > b.name) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 0\n\t\t\t}\n\t\t})\n\t},\n\t\n\tbeforeDestroy() {\n\t\tthis.$store.state.socket.removeListener('connect', this.fetch_queue)\n\t\tthis.$store.state.socket.removeListener('update_queue', this.socket_handle_update_queue)\n\t\tthis.$store.state.socket.removeListener('remove_task', this.socket_handle_remove_task)\n\t\tthis.$store.state.socket.removeListener('add_task', this.socket_handle_add_task)\n\t},\n\n\tasync created() {\n\t\tthis.$store.state.socket.on('connect', this.fetch_queue)\n\t\tthis.$store.state.socket.on('update_queue', this.socket_handle_update_queue)\n\t\tthis.$store.state.socket.on('remove_task', this.socket_handle_remove_task)\n\t\tthis.$store.state.socket.on('add_task', this.socket_handle_add_task)\n\t\t\n\t\tconst now = new Date()\n\n\t\tnow.setMinutes(now.getMinutes()-now.getTimezoneOffset())\n\t\tnow.setSeconds(0)\n\t\tnow.setMilliseconds(0)\n\n\t\tthis.task_deadline = now.toISOString().slice(0, -1)\n\n\t\tthis.fetch_queue()\n\n    this.colors = (await axios.get('/colors')).data\n    this.existing_rooms = (await axios.get('/rooms')).data\n\n    this.update_clicked_rooms()\n\t},\n\n\tcomputed: {\n\t\tis_assistant_in_queue() {\n\t\t\t// för att få tillgång till admin måste personen vara inloggad\n\t\t\tif (this.$store.state.profile === null) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\t// är man lärare är man alltid assistent\n\t\t\tif (this.$store.state.profile.teacher === true){\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\t// man kan annars vara assistent i den aktuella kön\n\t\t\treturn this.queue.assistants.findIndex(x => x.id === this.$store.state.profile.id) !== -1\n\t\t},\n\n\t\tsorted_assistants: function() {\n\t\t\treturn this.sort_users(this.queue.assistants)\n\t\t},\n\t\t\n\t\tsorted_students: function() {\n\t\t\treturn this.sort_users(this.queue.students)\n\t\t}\n\t},\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueueEdit.vue?vue&type=template&id=734b24f6&\"\nimport script from \"./QueueEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./QueueEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.queue && _vm.$store.state.profile !== null)?_c('div',[_c('h1',[_vm._v(\"Historik för \"+_vm._s(_vm.queue.name))]),(_vm.is_assistant_in_queue)?_c('p',[_vm._v(\" Här kan du se historisk data för köns händelser och studenter. \")]):_c('p',[_vm._v(\" Här kan du se dina historiska besök i kön. \")]),_c('form',{staticClass:\"md-layout md-gutter\",on:{\"submit\":function($event){$event.preventDefault();return _vm.fetch_history($event)}}},[_c('div',{staticClass:\"md-layout-item\"},[_c('md-field',[_c('label',[_vm._v(\"Startdatum:\")]),_c('md-input',{attrs:{\"type\":\"date\",\"required\":\"\"},model:{value:(_vm.date_start),callback:function ($$v) {_vm.date_start=$$v},expression:\"date_start\"}})],1)],1),_c('div',{staticClass:\"md-layout-item\"},[_c('md-field',[_c('label',[_vm._v(\"Slutdatum:\")]),_c('md-input',{attrs:{\"type\":\"date\",\"required\":\"\"},model:{value:(_vm.date_end),callback:function ($$v) {_vm.date_end=$$v},expression:\"date_end\"}})],1)],1),_c('div',{staticClass:\"md-layout-item\"},[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Hämta historik \")])],1)]),(_vm.events !== null)?_c('md-card',{staticStyle:{\"margin-bottom\":\"50px\"}},[_c('md-card-content',[_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Händelser \")])]),(_vm.events.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',{staticStyle:{\"width\":\"200px\"}},[_vm._v(\" Tidpunkt \")]),_c('md-table-head',[_vm._v(\"Händelse\")])],1),_vm._l((_vm.events),function(event){return _c('md-table-row',{key:event.id},[_c('md-table-cell',[_vm._v(_vm._s(_vm.unix_to_datetime(event.timestamp)))]),_c('md-table-cell',[_vm._v(\" \"+_vm._s(event.nice_description)+\" \"),(event.type === 'DESCRIPTION' && event.data.old !== null)?_c('div',{staticClass:\"history_old\"},[_vm._v(\" \"+_vm._s(event.data.old)+\" \")]):_vm._e(),(event.type === 'DESCRIPTION' && event.data.new !== null)?_c('div',{staticClass:\"history_new\"},[_vm._v(\" \"+_vm._s(event.data.new)+\" \")]):_vm._e()])],1)})],2):_c('p',[_vm._v(\" Det finns inga händelser att visa för den valda datumperioden. \")])],1)],1):_vm._e(),(_vm.queuings !== null)?_c('md-card',[_c('md-card-content',[(_vm.is_assistant_in_queue)?_c('md-card-header',[_c('h2',{staticClass:\"md-title\"},[_vm._v(\" Studenter i kön \")])]):_vm._e(),(_vm.queuings.length > 0)?_c('md-table',[_c('md-table-row',[_c('md-table-head',{staticStyle:{\"width\":\"200px\"}},[_vm._v(\" Tidpunkt \")]),(_vm.is_assistant_in_queue)?_c('md-table-head',[_vm._v(\" Student \")]):_vm._e(),_c('md-table-head',[_vm._v(\"Plats\")]),_c('md-table-head',[_vm._v(\"Meddelande\")]),_c('md-table-head',[_vm._v(\"Assistent\")])],1),_vm._l((_vm.queuings),function(queuing){return _c('md-table-row',{key:queuing.id},[_c('md-table-cell',[_c('span',{staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(_vm._s(_vm.unix_to_datetime(queuing.timestamp_enter)))]),_vm._v(\" → \"),_c('span',{staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(_vm._s(_vm.unix_to_datetime(queuing.timestamp_leave) || '...'))])]),(_vm.is_assistant_in_queue)?_c('md-table-cell',[_c('span',{staticStyle:{\"white-space\":\"nowrap\"},attrs:{\"title\":queuing.profile.user_name + '@kth.se'}},[_vm._v(_vm._s(queuing.profile.name))])]):_vm._e(),_c('md-table-cell',[_vm._v(\" \"+_vm._s(queuing.location)+\" \")]),_c('md-table-cell',[(queuing.action !== null)?_c('div',[_vm._v(\" \"+_vm._s(queuing.action)+\" \")]):_vm._e(),(queuing.comment !== null)?_c('div',[_vm._v(\" \"+_vm._s(queuing.comment)+\" \")]):_vm._e()]),_c('md-table-cell',_vm._l((queuing.handlers),function(handler){return _c('div',{key:handler.user_name,staticStyle:{\"white-space\":\"nowrap\"},attrs:{\"title\":handler.user_name + '@kth.se'}},[_vm._v(\" \"+_vm._s(handler.name)+\" \")])}),0)],1)})],2):_c('p',[_vm._v(\" Det finns ingen aktivitet i kön att visa för den valda datumperioden. \")])],1)],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"queue && $store.state.profile !== null\">\n    <h1>Historik för {{ queue.name }}</h1>\n    <p v-if=\"is_assistant_in_queue\">\n      Här kan du se historisk data för köns händelser och studenter.\n    </p>\n    <p v-else>\n      Här kan du se dina historiska besök i kön.\n    </p>\n\t\t\n    <form\n      @submit.prevent=\"fetch_history\"\n      class=\"md-layout md-gutter\"\n    >\n      <div class=\"md-layout-item\">\n        <md-field>\n          <label>Startdatum:</label>\n          <md-input\n            type=\"date\"\n            v-model=\"date_start\"\n            required\n          />\n        </md-field>\n      </div>\n\n      <div class=\"md-layout-item\">\n        <md-field>\n          <label>Slutdatum:</label>\n          <md-input\n            type=\"date\"\n            v-model=\"date_end\"\n            required\n          />\n        </md-field>\n      </div>\n\n      <div class=\"md-layout-item\">\n        <md-button\n          type=\"submit\"\n          class=\"md-primary\"\n        >\n          Hämta historik\n        </md-button>\n      </div>\n    </form>\n\n    <md-card\n      v-if=\"events !== null\"\n      style=\"margin-bottom: 50px;\"\n    >\n      <md-card-content>\n        <md-card-header>\n          <h2 class=\"md-title\">\n            Händelser\n          </h2>\n        </md-card-header>\n\n        <md-table v-if=\"events.length > 0\">\n          <md-table-row>\n            <md-table-head style=\"width: 200px;\">\n              Tidpunkt\n            </md-table-head>\n            <md-table-head>Händelse</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"event in events\"\n            :key=\"event.id\"\n          >\n            <md-table-cell>{{ unix_to_datetime(event.timestamp) }}</md-table-cell>\n            <md-table-cell>\n              {{ event.nice_description }}\n              <div\n                v-if=\"event.type === 'DESCRIPTION' && event.data.old !== null\"\n                class=\"history_old\"\n              >\n                {{ event.data.old }}\n              </div>\n              <div\n                v-if=\"event.type === 'DESCRIPTION' && event.data.new !== null\"\n                class=\"history_new\"\n              >\n                {{ event.data.new }}\n              </div>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n\n        <p v-else>\n          Det finns inga händelser att visa för den valda datumperioden.\n        </p>\n      </md-card-content>\n    </md-card>\n\n    <md-card v-if=\"queuings !== null\">\n      <md-card-content>\n        <md-card-header v-if=\"is_assistant_in_queue\">\n          <h2 class=\"md-title\">\n            Studenter i kön\n          </h2>\n        </md-card-header>\n\n        <md-table v-if=\"queuings.length > 0\">\n          <md-table-row>\n            <md-table-head style=\"width: 200px;\">\n              Tidpunkt\n            </md-table-head>\n            <md-table-head v-if=\"is_assistant_in_queue\">\n              Student\n            </md-table-head>\n            <md-table-head>Plats</md-table-head>\n            <md-table-head>Meddelande</md-table-head>\n            <md-table-head>Assistent</md-table-head>\n          </md-table-row>\n\n          <md-table-row\n            v-for=\"queuing in queuings\"\n            :key=\"queuing.id\"\n          >\n            <md-table-cell>\n              <span style=\"white-space: nowrap;\">{{ unix_to_datetime(queuing.timestamp_enter) }}</span>\n              →\n              <span style=\"white-space: nowrap;\">{{ unix_to_datetime(queuing.timestamp_leave) || '...' }}</span>\n            </md-table-cell>\n            <md-table-cell v-if=\"is_assistant_in_queue\">\n              <span\n                style=\"white-space: nowrap;\"\n                :title=\"queuing.profile.user_name + '@kth.se'\"\n              >{{ queuing.profile.name }}</span>\n            </md-table-cell>\n            <md-table-cell>\n              {{ queuing.location }}\n            </md-table-cell>\n            <md-table-cell>\n              <div v-if=\"queuing.action !== null\">\n                {{ queuing.action }}\n              </div>\n              <div v-if=\"queuing.comment !== null\">\n                {{ queuing.comment }}\n              </div>\n            </md-table-cell>\n            <md-table-cell>\n              <div\n                style=\"white-space: nowrap;\"\n                :title=\"handler.user_name + '@kth.se'\"\n                :key=\"handler.user_name\"\n                v-for=\"handler in queuing.handlers\"\n              >\n                {{ handler.name }}\n              </div>\n            </md-table-cell>\n          </md-table-row>\n        </md-table>\n\n        <p v-else>\n          Det finns ingen aktivitet i kön att visa för den valda datumperioden.\n        </p>\n      </md-card-content>\n    </md-card>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tname: 'QueueHistory',\n\n\tdata: () => ({\n\t\tqueue: null,\n\t\tdate_start: (d => new Date(d.setDate(d.getDate() - 7)))(new Date).toISOString().slice(0, 10),\n\t\tdate_end: new Date().toISOString().slice(0, 10),\n\t\tevents: null,\n\t\tqueuings: null,\n\t}),\n\n\tmethods: {\n\t\tunix_to_datetime(unix) {\n\t\t\tif (unix === null) {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\t// TODO: övergå till något bibliotek, till exempel Moment\n\t\t\tconst d = new Date(unix)\n\t\t\tconst today = new Date()\n\t\t\t\n\t\t\tconst hour = '0' + d.getHours()\n\t\t\tconst min = '0' + d.getMinutes()\n\t\t\t\n\t\t\tconst time = hour.slice(-2) + ':' + min.slice(-2)\n\n\t\t\tif (today.getDate() === d.getDate() && today.getMonth() === d.getMonth() && today.getFullYear() === d.getFullYear()) {\n\t\t\t\treturn time\n\t\t\t}\n\n\t\t\tlet date = d.getDate() + ' ' + (['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec'][d.getMonth()])\n\n\t\t\tif (today.getFullYear() !== d.getFullYear()) {\n\t\t\t\tdate += ' ' + d.getFullYear()\n\t\t\t}\n\n\t\t\treturn date + ', ' + time\n\t\t},\n\n\t\tdate_to_unix(date) {\n\t\t\treturn new Date(date).getTime()\n\t\t},\n\t\t\n\t\tasync fetch_queue() {\n      this.queue = (await axios.get('/queues/' + this.$route.params.name)).data\n\t\t},\n\n\t\tasync fetch_history() {\n\t\t\tthis.events = null\n\t\t\tthis.queuings = null\n\n\t\t\tconst timestamp_start = this.date_to_unix(this.date_start)\n\t\t\tconst timestamp_end = this.date_to_unix(this.date_end) + 86399000\n\n      try {\n        const data = (await axios.get('/queues/' + this.queue.id + '/history?timestamp_start=' + timestamp_start + '&timestamp_end=' + timestamp_end)).data\n\n        if (!data.filtered) {\n            this.events = data.events.sort((a, b) => b.timestamp - a.timestamp)\n\n            for (const event of this.events) {\n              event.nice_description = this.generate_nice_description(event)\n            }\n          }\n\n          this.queuings = data.queuings.sort((a, b) => b.timestamp_enter - a.timestamp_enter)\n\n          // samma assistent kan assistera flera gånger (dock förmodligen med olika tidsstämplar), så här plockar vi ut de unika assistenterna\n          for (const queuing of this.queuings) {\n            const handlers = []\n\n            for (const handler of queuing.handlers) {\n              if (handlers.findIndex(x => x.user_id === handler.user_id) === -1) {\n                handlers.push({\n                  user_id: handler.user_id,\n                  name: handler.profile.name,\n                  user_name: handler.profile.user_name\n                })\n              }\n            }\n\n            queuing.handlers = handlers\n          }\n      } catch (error) {\n        switch (error.response ? error.response.data : null) {\n          case 'INVALID_START_DATE':\n            alert('Startdatumet är ogiltigt.')\n            break\n        \n          case 'INVALID_END_DATE':\n            alert('Slutdatumet är ogiltigt.')\n            break\n        \n          case 'END_DATE_BEFORE_START_DATE':\n            alert('Slutdatumet får inte vara före startdatumet.')\n            break\n          \n          default:\n            alert('Ett okänt fel inträffade.')\n        }\n      }\n\t\t},\n\n\t\tgenerate_nice_description(event) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase 'OPEN':\n\t\t\t\t\tif (event.profile === null) {\n\t\t\t\t\t\treturn 'Kön öppnades.'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn event.profile.name + ' öppnade kön.'\n\t\t\t\t\t}\n\n\t\t\t\tcase 'CLOSE':\n\t\t\t\t\tif (event.profile === null) {\n\t\t\t\t\t\treturn 'Kön stängdes.'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn event.profile.name + ' stängde kön.'\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcase 'DESCRIPTION':\n\t\t\t\t\tif (event.data.old === null && event.data.new !== null) {\n\t\t\t\t\t\treturn event.profile.name + ' lade till en beskrivning:'\n\t\t\t\t\t} else if (event.data.old !== null && event.data.new === null) {\n\t\t\t\t\t\treturn event.profile.name + ' tog bort beskrivningen:'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn event.profile.name + ' ändrade beskrivningen:'\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\treturn event.type\n\t\t\t}\n\t\t},\n\t\t\n\t\t// ändrar data om en kö (inklusive t.ex. queuing-listan)\n\t\tsocket_handle_update_queue(data) {\n\t\t\tif (data.queue !== this.queue.id) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tfor (var k of Object.keys(data.changes)) {\n\t\t\t\tthis.queue[k] = data.changes[k]\n\t\t\t}\n\t\t}\n\t},\n\t\n\tbeforeDestroy() {\n\t\tthis.$store.state.socket.removeListener('connect', this.fetch_queue)\n\t\tthis.$store.state.socket.removeListener('update_queue', this.socket_handle_update_queue)\n\t},\n\t\n\tcreated() {\n\t\tthis.$store.state.socket.on('connect', this.fetch_queue)\n\t\tthis.$store.state.socket.on('update_queue', this.socket_handle_update_queue)\n\t\t\n\t\tthis.fetch_queue()\n\t},\n\t\n\tcomputed: {\n\t\tis_assistant_in_queue() {\n\t\t\t// för att få tillgång till admin måste personen vara inloggad\n\t\t\tif (this.$store.state.profile === null) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\t// är man lärare är man alltid assistent\n\t\t\tif (this.$store.state.profile.teacher === true){\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\t// man kan annars vara assistent i den aktuella kön\n\t\t\treturn this.queue.assistants.findIndex(x => x.id === this.$store.state.profile.id) !== -1\n\t\t}\n\t},\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueueHistory.vue?vue&type=template&id=faa393ae&\"\nimport script from \"./QueueHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./QueueHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport AdminView from '../views/Admin.vue'\nimport QueueListView from '../views/Queues.vue'\nimport QueueSingleView from '../views/Queue.vue'\nimport QueueEditView from '../views/QueueEdit.vue'\nimport QueueHistoryView from '../views/QueueHistory.vue'\n\n\nVue.use(VueRouter)\n\nconst routes = [\n\t{ path: '/', redirect: '/queues' },\n\t{ path: '/admin', component: AdminView },\n\t{ path: '/queues', component: QueueListView },\n\t{ path: '/queues/:name', component: QueueSingleView },\n\t{ path: '/queues/:name/edit', component: QueueEditView },\n\t{ path: '/queues/:name/history', component: QueueHistoryView },\n]\n\nconst router = new VueRouter({\n\tmode: 'history',\n\tbase: process.env.BASE_URL,\n  routes,\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport io from 'socket.io-client'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    profile: null,\n    location: null,\n    assisting_in: null,\n    is_kthlan: null,\n    socket_connected: false,\n    socket: io(),\n  },\n  \n  mutations: {\n    setProfile(store, profile) {\n      store.profile = profile\n    },\n\n    setLocation(store, location) {\n      store.location = location\n    },\n\n    setAssistingIn(store, assisting_in) {\n      store.assisting_in = assisting_in\n    },\n\n    isKthlan(store, is_kthlan) {\n      store.is_kthlan = is_kthlan\n    },\n\n    setSocketConnected(store, socket_connected) {\n      store.socket_connected = socket_connected\n    },\n  },\n})\n","import Vue from 'vue'\n\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport axios from 'axios'\n\nimport VueMaterial from 'vue-material'\nimport 'vue-material/dist/vue-material.min.css'\nimport 'vue-material/dist/theme/default.css'\n\nVue.use(VueMaterial)\n\nVue.config.productionTip = false\n\nconst moment = require('moment')\n \nVue.use(require('vue-moment'), {\n  moment,\n})\n\naxios.defaults.withCredentials = true\naxios.defaults.baseURL = '/api'\n\nconst x = async () => {\n  new Vue({\n    router,\n    store,\n    methods: {\n      redirect_login() {\n        document.location = '/login?returnTo=' + encodeURIComponent(window.location.pathname)\n      },\n    },\n    render: h => h(App),\n  }).$mount('#app')\n}\n\nx()\n"],"sourceRoot":""}